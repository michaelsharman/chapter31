
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Session and client variable handling in CFMX - chapter31 &raquo;</title>
	<meta name="author" content="Michael Sharman">

	
	<meta name="description" content="With CFMX there are a few new features you can take advantage of in relation to session and client variable handling, namely: URLSessionFormat() &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="chapter31 &raquo;" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">chapter31 &raquo;</a></h1>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:chapter31.github.io">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/michaelsharman" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/michaelsharman" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:chapter31.github.io">
	</form>
</nav>

</header>
	
		
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/michaelsharman">michaelsharman</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('michaelsharman', 4, false);
	})(jQuery);
</script>

	
	<div id="content" class="inner"><article class="post">
	<h2 class="title">Session and Client Variable Handling in CFMX</h2>
	<div class="entry-content"><p>With CFMX there are a few new features you can take advantage of in relation to session and client variable handling, namely:</p>

<ul>
<li>URLSessionFormat()</li>
<li>Using UUID for the CFToken value</li>
<li>Using J2EE Session Variables</li>
</ul>


<p><strong>URLSessionFormat()</strong></p>

<p>We all know that using session variables <em>primarily</em> relies on the user have enabled cookies in their browser, otherwise you need to pass CFIDE and CFTOKEN along the URL. This can be painful as you need to ensure you pass this client identity along with every request, whether it be an</p>

<pre><code>&lt;a href&gt;
</code></pre>

<p>or</p>

<pre><code>&lt;cflocation&gt;
</code></pre>

<p>etc.</p>

<p>With URLSessionFormat() ColdFusion automatically detects whether templates are passing the required cookie, if it isn&#8217;t then it will pass the values along the URL for you!</p>

<p>So with the following:</p>

<pre><code>&lt;a href="#URLSessionFormat("order.cfm?orderID=123")#"&gt;Order Page&lt;/a&gt;
</code></pre>

<p>You get:</p>

<pre><code>&lt;a href="order.cfm?orderID=123&amp;cfid;=xxxx&amp;cftoken;=xxxxxxxx"&gt;Order Page&lt;/a&gt;
</code></pre>

<p>:)</p>

<p>If cookies are being accepted then CFIDE and CFTOKEN won&#8217;t be passed.</p>

<p><strong>UUID for CFTOKEN value</strong></p>

<p>In ColdFusion Administrator on the &#8216;Server settings/Settings&#8217; page you can choose to &#8220;Use UUID for cftoken&#8221;. This guarantees a unique identifier for the token, instead of a normal 8 digit number which could be guessed by a malicious user.</p>

<p><img src="http://www.chapter31.com/images/cfadmin.jpg" alt="ColdFusion Administrator" /></p>

<p><strong>J2EE Session Variables</strong></p>

<p>Work the same way as CFIDE and CFTOKEN but use a JSessionID instead. One of the coolest things about jsessionid&#8217;s is that when a user closes his or her browser the session terminates because the cookie set is non-persistant, held only in the browsers memory!</p>
</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-03-13T15:45:02+11:00" pubdate data-updated="true">Mar 13<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2006/03/13/session-and-client-variable-handling-in-cfmx/#disqus_thread">Comments</a></div>
	
</div></article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h2 class="title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Michael Sharman

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'chapter31';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://chapter31.github.io/2006/03/13/session-and-client-variable-handling-in-cfmx/';
        var disqus_url = 'http://chapter31.github.io/2006/03/13/session-and-client-variable-handling-in-cfmx/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-306772-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>