
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>chapter31 &raquo;</title>
	<meta name="author" content="Michael Sharman">

	
	<meta name="description" content="At Daemon we often run ColdFusion in multi-server mode (on top of JRun) which enables us to cleanly separate projects which require different server &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="chapter31 &raquo;" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">chapter31 &raquo;</a></h1>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="http://michaelsharman.com/">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main-navigation">
  <li><a href="http://michaelsharman.com/">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:chapter31.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/michaelsharman" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/michaelsharman" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:chapter31.com">
	</form>
</nav>

</header>
	
		

	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/2006/12/19/determining-which-httpproxy-ports-your-jrun-instance-is-running-on/">
		
			Determining Which Http/proxy Ports Your JRun Instance Is Running On</a>
	</h2>
	<div class="entry-content">
		<p>At Daemon we often run ColdFusion in multi-server mode (on top of JRun) which enables us to cleanly separate projects which require different server settings from one another.</p>

<p>Typically I have a ColdFusion instance per <a href="http://www.farcrycms.org/">Farcry</a> version, at the moment that would be:</p>

<ul>
<li>p300 (v3)</li>
<li>gonzales (v4)</li>
</ul>


<p>When ColdFusion first installs in multi-server mode you get the default &#8216;cfusion&#8217; instance, but you also get the &#8216;admin&#8217; JRun instance which is really only used when you need to access the JRun Management Console&#8230;not very often for most people!</p>

<p>That being the case I often switch it off (in Control Panel/Administrative Tools/Services) and set its start option to manual, i.e. I&#8217;ll start it if I want to use it because I don&#8217;t want it taking up any system resources when I don&#8217;t specifically need it :)</p>

<p><em>Sometimes</em> this is a pain when you need to double check the http and/or proxy port of a particular ColdFusion instance, usually when I need to access ColdFusion administrator or when I&#8217;m setting a bootstrap in my apache config.</p>

<p>To save me starting the &#8216;admin&#8217; JRun instance purely to see the proxy port value, I can open up the jrun.xml file in my server-inf directory and look for the <port> setting under ProxyService.</p>

<p>For me this is located in C:\JRun4\servers\cfusion_gonzales\SERVER-INF</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;!-- ================================================================== --&gt;
</span><span class='line'>&lt;!-- This is the built-in JRun Web Server --&gt;
</span><span class='line'>&lt;!-- ================================================================== --&gt;
</span><span class='line'>&lt;attribute name="port"&gt;8301&lt;/attribute&gt;&lt;/code&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;!-- ========================================================================= --&gt;
</span><span class='line'>&lt;!-- This service is for communicating with a native (IIS, Apache, Netscape) --&gt;
</span><span class='line'>&lt;!-- web server. --&gt;
</span><span class='line'>&lt;!-- To run this service in a secure mode via SSL, set the keyStore, --&gt;
</span><span class='line'>&lt;!-- keyStorePassWord, trustStore and socketFactoryName attributes. --&gt;
</span><span class='line'>&lt;!-- ========================================================================= --&gt;
</span><span class='line'>&lt;attribute name="port"&gt;51000&lt;/attribute&gt;&lt;/code&gt;</span></code></pre></td></tr></table></div></figure>


<p>Believe it or not this is actually easier for me than starting (and then stopping) my admin JRun instance! Now you can just add this to your folder of explorer shortcuts.</p>

<p>Ah it&#8217;s the little things&#8230;</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-12-19T16:00:51+11:00" pubdate data-updated="true">Dec 19<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2006/12/19/determining-which-httpproxy-ports-your-jrun-instance-is-running-on//page/20/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2006/12/15/reseting-a-lost-coldfusion-administrator-password/">
		
			Reseting a Lost ColdFusion Administrator Password</a>
	</h2>
	<div class="entry-content">
		<p>A colleague sent me a nice way to obtain access to ColdFusion Administrator (any instance) when you&#8217;ve lost your password. After a little googling I also came across another method, both assume that you have administrator access to the application server.</p>

<p>The following examples assume a ColdFusion installation in a multi-server environment, using the default (cfusion) instance.</p>

<ol>
<li>Reseting the password:

<ul>
<li>Open the <em>password.properties</em> file in C:\JRun4\servers\cfusion\cfusion-ear\cfusion-war\WEB-INF\cfusion\lib</li>
<li>Enter your new password for RDS (&#8220;rdspassword&#8221;) and ColdFusion Administrator (&#8220;password&#8221;)</li>
<li>Make sure &#8220;encrypted&#8221; is set to false</li>
<li>Restart your ColdFusion instance</li>
</ul>
</li>
<li>Turning the password off (allowing full access with no authentication)

<ul>
<li>Open the <em>neo-security.xml</em> file in C:\JRun4\servers\cfusion\cfusion-ear\cfusion-war\WEB-INF\cfusion\lib</li>
<li>Search for <em>&lt;var name=&#8217;admin.security.enabled&#8217;&gt;&lt;boolean value=&#8217;true&#8217;/&gt;&lt;/var&gt;</em></li>
<li>Set <em>value=&#8217;false&#8217;</em> and restart your ColdFusion instance.</li>
</ul>
</li>
</ol>


<p>Note that with option 2 you are left totally unprotected, anyone who has access to that machine (and knows the administrator URL) will have access and control over your ColdFusion application server.</p>

<p>Therefore it would be best now that you have access, to set a new password immediately :)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-12-15T13:00:24+11:00" pubdate data-updated="true">Dec 15<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2006/12/15/reseting-a-lost-coldfusion-administrator-password//page/20/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2006/12/13/no-error-handler-for-mxna/">
		
			No Error Handler for MXNA</a>
	</h2>
	<div class="entry-content">
		<p>Funny, but I&#8217;ve had this screen many many times when accessing <a href="http://weblogs.macromedia.com/mxna/">MXNA</a>.</p>

<p>I wonder how many sites (let alone high profile sites) don&#8217;t have a default error handler in place.</p>

<p><img src="/images/uploads/2006/12/mxna_error.gif" alt="mxna error" /></p>

<p>Exception handling (be it with cftry/cfcatch or cferror etc) is often the last thing on a developers mind. It&#8217;s easy to assume that things won&#8217;t go wrong or the user will enter the correct data in a form.</p>

<p>One of the things I strive to do as a developer is to think of the worst case scenario, or to think like a hacker/malicious user. What would they do to break my site?</p>

<p>Would they turn off javascript? In that case I need to make sure I have server side validation to backup my client side validation.</p>

<p>Am I referencing scoped variables? Maybe I should &lt;cfparam&gt; them.</p>

<p>In the event of certain exceptions I may need to alert the site administrator of the error via email, a handy feature when using &lt;cferror&gt;</p>

<p>Either way a user seeing an error message is bad whichever way you look at it. It looks amateur and could potentially give away vital information for would be malicious users.</p>

<p>As such, exception handling it should be a mandatory part of any coders development methodology. Whether you use a granular approach like &lt;cftry&gt; or not, you should implement &lt;cferror&gt; to catch any exceptions that slip through the net.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-12-13T13:53:22+11:00" pubdate data-updated="true">Dec 13<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2006/12/13/no-error-handler-for-mxna//page/20/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2006/12/13/outputting-content-from-within-a-method/">
		
			Outputting Content From Within a Method</a>
	</h2>
	<div class="entry-content">
		<p>Normally I&#8217;m with the crowd who says &#8220;don&#8217;t output content or use <cfinclude> from within a function&#8221;. Like a lot of people I would much rather return whatever value I need to the calling page/function, so that I then have a choice with what I want to do with it.</p>

<p>Still, the other day I found myself doing what I don&#8217;t normally do&#8230;wanting to output a simple text value from within a method.</p>

<p>My scenario was quite complex so I won&#8217;t go into all the details, suffice to say that there were several methods being called eventuating in a final method call to display().</p>

<p>The display() method was outputting a simple string value (yikes!). Now the actual problem I encountered was that my output wasn&#8217;t actually displaying :(</p>

<p>I had output=&#8221;true&#8221; in the display() method but nothing was showing. It took me a few minutes to trace through the code and discover that because display() was being called from another function (and I wanted to output a value from within display(), that the initial functions output attribute also needed to be set to true. This I did not know.</p>

<p>So the following will not work because output is set to false in function1():</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="n">cffunction</span> <span class="nb">name</span><span class="o">=</span><span class="s2">&quot;function1&quot;</span> <span class="n">access</span><span class="o">=</span><span class="s2">&quot;public&quot;</span> <span class="n">returntype</span><span class="o">=</span><span class="s2">&quot;void&quot;</span> <span class="n">output</span><span class="o">=</span><span class="s2">&quot;false&quot;</span><span class="o">&gt;</span>
</span><span class='line'>   <span class="o">&lt;</span><span class="n">cfscript</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>      <span class="sr">//no</span> <span class="n">output</span> <span class="k">in</span> <span class="n">this</span> <span class="nb">method</span><span class="p">,</span> <span class="n">just</span> <span class="n">call</span> <span class="n">another</span> <span class="nb">method</span>
</span><span class='line'>      <span class="nb">display</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">return</span><span class="p">;</span>           
</span><span class='line'>
</span><span class='line'>   <span class="o">&lt;</span><span class="sr">/cfscript&gt;</span>
</span><span class='line'><span class="sr">&lt;/</span><span class="n">cffunction</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;!---</span> <span class="no">PRIVATE</span> <span class="no">METHODS</span> <span class="o">---&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">cffunction</span> <span class="nb">name</span><span class="o">=</span><span class="s2">&quot;display&quot;</span> <span class="n">access</span><span class="o">=</span><span class="s2">&quot;private&quot;</span> <span class="n">returntype</span><span class="o">=</span><span class="s2">&quot;void&quot;</span> <span class="n">output</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
</span><span class='line'>   <span class="o">&lt;</span><span class="n">cfsavecontent</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;content&quot;</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="no">Header</span><span class="o">&lt;</span><span class="sr">/h1&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">      Content to display</span>
</span><span class='line'><span class="sr">   &lt;/</span><span class="n">cfsavecontent</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>   <span class="o">&lt;</span><span class="n">cfoutput</span><span class="o">&gt;</span><span class="c1">#content#&lt;/cfoutput&gt;</span>
</span><span class='line'>
</span><span class='line'>   <span class="o">&lt;</span><span class="n">cfreturn</span> <span class="sr">/&gt;</span>
</span><span class='line'><span class="sr">&lt;/</span><span class="n">cffunction</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>But if you change the output attribute to true:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="n">cffunction</span> <span class="nb">name</span><span class="o">=</span><span class="s2">&quot;function1&quot;</span> <span class="n">access</span><span class="o">=</span><span class="s2">&quot;public&quot;</span> <span class="n">returntype</span><span class="o">=</span><span class="s2">&quot;void&quot;</span> <span class="n">output</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Lovely output!</p>

<p>Now if only I kept true to my rule of not outputting content in a method&#8230;</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-12-13T09:47:51+11:00" pubdate data-updated="true">Dec 13<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2006/12/13/outputting-content-from-within-a-method//page/20/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2006/12/07/including-js-files-from-within-js-files/">
		
			Including Js Files From Within Js Files</a>
	</h2>
	<div class="entry-content">
		<p>I&#8217;m working on an application which stores a lot of data in the application scope. Part of the data stored is a config CFC that has a method which loads &#8216;external assets&#8217; (javascript and css files etc) into the <head> of the html document via <a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/wwhelp/wwhimpl/common/html/wwhelp.htm?context=ColdFusion_Documentation&amp;file=00000271.htm"><cfhtmlhead></a>. I love that tag :)</p>

<p>My part in this application development is limited to a particular section only, but there was already a lot of external assets present in the header and things were getting very messy. I was looking for a way to simulate <cfinclude> but from within a .js file so I could clean up my output a bit, fortunately there is a way!</p>

<p>I now have a master js file to add to the <head> section of my document:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;js/master.js&quot;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;&lt;</span><span class="err">/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>From within this master.js file I can &#8216;include&#8217; any js files I want.</p>

<p>master.js</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">//this function includes all necessary js files for the application</span>
</span><span class='line'><span class="kd">function</span> <span class="nx">include</span><span class="p">(</span><span class="nx">file</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">script</span>  <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">script</span><span class="p">.</span><span class="nx">src</span>  <span class="o">=</span> <span class="nx">file</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">script</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;text/javascript&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">script</span><span class="p">.</span><span class="nx">defer</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">).</span><span class="nx">item</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/* include any js files here */</span>
</span><span class='line'><span class="nx">include</span><span class="p">(</span><span class="s1">&#39;js/myFile1.js&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nx">include</span><span class="p">(</span><span class="s1">&#39;js/myFile2.js&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>The above code includes myFile1.js and myFile2.js, both of which are located in the relative &#8216;js/&#8217; directory.</p>

<p>Not only does this clean up my output, but as my config file was stored in application scope every time I wanted to add/remove an asset from my application I need to refresh the scope&#8230;annoying. But now I am happy :)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-12-07T23:05:00+11:00" pubdate data-updated="true">Dec 7<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/x-html/'>(X)HTML</a>, <a class='category' href='/categories/javascript/'>Javascript</a>


</div>
	
		<div class="comments"><a href="/2006/12/07/including-js-files-from-within-js-files//page/20/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2006/12/05/snapa-google-competitor-and-cool-site-preview-tool/">
		
			snap. ..a Google Competitor and Cool Site Preview Tool</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://www.snap.com/">Snap</a> is a nice little search engine which displays your results in a left window pane and a site preview of your search result in the right. It&#8217;s very Ajax-y and includes personalised settings, email a friend, result ratings and more. They even made the Time <a href="http://www.time.com/time/business/article/0,8599,1222614,00.html#snap">50 coolest websites of 2006</a>.</p>

<p>Snap is also a free preview tool for your website which enables visitors to catch a glimpse of what websites you are linking to. All you need to do is hover your mouse over a hyperlink to see a thumbnail of the linked site.</p>

<p><a href="http://www.daemon.com.au/">Try it here</a></p>

<p>I&#8217;ll admit that this one is a bit gimmicky but it&#8217;s still kind of fun :)</p>

<p>By default snap only gives you previews of external URL&#8217;s, but you can turn on internal URL&#8217;s as well as play with a few extra options. <a href="http://www.snap.com/about/spa_faq.php">See their FAQ&#8217;s</a> for more.</p>

<p>Setting up takes approximately 2 minutes, just fill out a tiny form and copy/paste a link to a javascript file in your site header. That&#8217;s it!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-12-05T17:20:57+11:00" pubdate data-updated="true">Dec 5<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/misc/'>Misc</a>


</div>
	
		<div class="comments"><a href="/2006/12/05/snapa-google-competitor-and-cool-site-preview-tool//page/20/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2006/12/04/viewing-ajax-generated-source-code/">
		
			Viewing AJAX Generated Source Code</a>
	</h2>
	<div class="entry-content">
		<p>When developing for the web there is often a need to view the (X)HTML source code of a page to see exactly what ColdFusion (or your server side language of choice) is generating from the server.</p>

<p>One of the problems you might face is when viewing the source code of an AJAX generated event. Of course AJAX being <em>asynchronous</em> means that the page doesn&#8217;t reload in the browser, so viewing the source code doesn&#8217;t allow us to see the content which was generated by our AJAX call.</p>

<p>There are however a couple of nice solutions to this problem! The first of which you probably already have at your fingertips as it&#8217;s part of the <a href="https://addons.mozilla.org/firefox/60/">web developer</a> toolbar for Firefox by <a href="http://chrispederick.com/">Chris Pederick</a>. Please tell me that you all are using Firefox and its multitude of developer <a href="https://addons.mozilla.org/">addons</a>! Good :)</p>

<p>All you need to do to see AJAX generated source is to choose &#8216;View Generated Source&#8217; from the &#8216;View Source&#8217; menu option on the web developer toolbar.</p>

<p><img src="/images/uploads/2006/12/viewgeneratedsource.gif" alt="View Generated Source" /></p>

<p>The second and muuuuch nicer option also comes in the form of a Firefox addon/extention by <a href="http://jennifermadden.com/">Jennifer Madden</a> called &#8217;<a href="http://jennifermadden.com/scripts/ViewRenderedSource.html">View Source Chart</a>&#8217;.</p>

<p>A few quotes from Jennifer&#8217;s site:</p>

<blockquote><ul>
<li>Creates a Colorful Chart of a Webpage&#8217;s Rendered Source Code</li>
<li>Displays Source in its Altered State After the DOM has been Manipulated by JavaScript</li>
</ul>
</blockquote>

<p>This tool is invaluable to all developers who are involved in the &#8216;front end&#8217;. All the source code is colour coded, all extraneous whitespace is removed and the source is collapsable/expandable much like what you would expect from dumping complex ColdFusion objects (arrays, structures etc) using &lt;cfdump&gt;.</p>

<p>Plus you get some keyboard shortcuts like:</p>

<ul>
<li>Ctrl + - Allows Zooming OUT of HTML Chart by decreasing text size. Zooming out allows a broader view of the document structure.</li>
<li>Ctrl + + Allows Zooming IN of HTML Chart by increasing text size.</li>
<li>Ctrl + 0 (zero) Changes text size back to normal.</li>
<li>Ctrl + F Employs the find functionality. Alternatively, you may use Firefox&#8217;s Find-As-You-Type functionality (specified in Options).</li>
<li>Ctrl + W Closes window.</li>
<li>Ctrl + S Saves the chart to your hard drive.</li>
</ul>


<p>View Source Chart is free as of version 2.5.02, version 2.6 will cost you USD$3 but you do get some extra features.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-12-04T23:13:26+11:00" pubdate data-updated="true">Dec 4<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/x-html/'>(X)HTML</a>, <a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2006/12/04/viewing-ajax-generated-source-code//page/20/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2006/11/29/will-cfmx8-have-cfcontinue/">
		
			Will CFMX8 Have Cfcontinue?</a>
	</h2>
	<div class="entry-content">
		<p>There are a <a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/wwhelp/wwhimpl/common/html/wwhelp.htm?context=ColdFusion_Documentation&amp;file=00000977.htm">couple of nice statements</a> you can use to control processing within loops, namely</p>

<ul>
<li>break</li>
<li>continue</li>
</ul>


<p>Break is of course used to exit the current loop entirely and resume page processing from the first CF statement after the end loop tag. Lovely!</p>

<p>Continue has a subtle but handy difference, it ends the current loop iteration and &#8216;continues&#8217; from the beginning of the next loop iteration. Very lovely :)</p>

<p>Now the problem is that there is no ColdFusion tag equivalent for continue, it&#8217;s only accessible when in a &lt;cfscript&gt; block. As far as I know this is the only statement in the CFML language which is available in &lt;cfscript&gt; but not tags :(</p>

<p>For some scenarios this will be ok, especially for the cfscripters out there. But for people who don&#8217;t like (for several reasons) &lt;cfscript&gt; then this is a limitation which I hope Adobe will address (among others!) in Scorpio.</p>

<p>And don&#8217;t forget that the inherent limitations of &lt;cfscript&gt; (limited cftag support) means that sometimes you won&#8217;t be able to do your logic in cfscript. For example you may want to use a &lt;cfsavecontent&gt; etc which you can&#8217;t do in &lt;cfscript&gt;.</p>

<p>I know&#8230;I know that you can create your own functions <a href="http://www.chapter31.com/2006/11/15/getting-tag-functionality-in-cfscript/">simulating tag functionality in cfscript</a> but all gets a little messy doesn&#8217;t it?</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-11-29T15:13:41+11:00" pubdate data-updated="true">Nov 29<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2006/11/29/will-cfmx8-have-cfcontinue//page/20/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2006/11/16/commenting-templates-with-author-data/">
		
			Commenting Templates With Author Data</a>
	</h2>
	<div class="entry-content">
		<p>We all know that we should liberally comment our code to allow other developers (and yourself) to quickly and easily find out what a particular section of code does. But what about a comment block at the top of the page so anybody can (at a glance) determine template specific information?</p>

<p>Here is an example of what I use at the top of my pages, this is pretty standard but I know a lot of people don&#8217;t do it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;!---</span>
</span><span class='line'>   <span class="no">Name</span>          <span class="p">:</span> <span class="n">myFile</span><span class="o">.</span><span class="n">cfm</span>
</span><span class='line'>   <span class="no">Author</span>        <span class="p">:</span> <span class="no">Michael</span> <span class="no">Sharman</span>
</span><span class='line'>   <span class="no">Created</span>       <span class="p">:</span> <span class="no">November</span> <span class="mo">06</span><span class="p">,</span> <span class="mi">2006</span>
</span><span class='line'>   <span class="no">Last</span> <span class="no">Updated</span>  <span class="p">:</span> <span class="no">November</span> <span class="mo">06</span><span class="p">,</span> <span class="mi">2006</span>
</span><span class='line'>   <span class="no">History</span>       <span class="p">:</span> <span class="no">Initial</span> <span class="n">release</span> <span class="p">(</span><span class="n">mps</span> <span class="mi">6</span><span class="o">/</span><span class="mi">11</span><span class="o">/</span><span class="mi">2006</span><span class="p">)</span>
</span><span class='line'>   <span class="no">Purpose</span>       <span class="p">:</span> <span class="n">A</span> <span class="n">descriptive</span> <span class="n">message</span>
</span><span class='line'><span class="o">---&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>I find the best thing is to either have this as part of a template for a new <em>.cfm</em> file, or as a snippet for easy access. I actually use snippets with built-in and custom <a href="http://www.chapter31.com/2006/10/22/cfeclipse-snippets/">snippet variables</a> for the comment options.</p>

<p>The snippet I use for cfeclipse is:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;!---</span>
</span><span class='line'>   <span class="no">Name</span>          <span class="p">:</span> <span class="vg">$$</span><span class="p">{</span><span class="no">CURRENTFILE</span><span class="p">}</span>
</span><span class='line'>   <span class="no">Author</span>        <span class="p">:</span> <span class="no">Michael</span> <span class="no">Sharman</span>
</span><span class='line'>   <span class="no">Created</span>       <span class="p">:</span> <span class="vg">$$</span><span class="p">{</span><span class="no">MONTH</span><span class="p">}</span> <span class="vg">$$</span><span class="p">{</span><span class="no">DAYOFMONTH</span><span class="p">},</span> <span class="vg">$$</span><span class="p">{</span><span class="no">YEAR</span><span class="p">}</span>
</span><span class='line'>   <span class="no">Last</span> <span class="no">Updated</span>  <span class="p">:</span> <span class="vg">$$</span><span class="p">{</span><span class="no">MONTH</span><span class="p">}</span> <span class="vg">$$</span><span class="p">{</span><span class="no">DAYOFMONTH</span><span class="p">},</span> <span class="vg">$$</span><span class="p">{</span><span class="no">YEAR</span><span class="p">}</span>
</span><span class='line'>   <span class="no">History</span>       <span class="p">:</span> <span class="no">Initial</span> <span class="n">release</span> <span class="p">(</span><span class="n">mps</span> <span class="vg">$$</span><span class="p">{</span><span class="no">DAYOFMONTH</span><span class="p">}</span><span class="o">/</span><span class="vg">$$</span><span class="p">{</span><span class="no">MONTHNUMBER</span><span class="p">}</span><span class="o">/</span><span class="vg">$$</span><span class="p">{</span><span class="no">YEAR</span><span class="p">})</span>
</span><span class='line'>   <span class="no">Purpose</span>       <span class="p">:</span> <span class="vg">$$</span><span class="p">{</span><span class="ss">Purpose</span><span class="p">:}</span>
</span><span class='line'><span class="o">---&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note the custom variable $${Purpose:} as well as the built-in snippet variables like $${CURRENTFILE}. You can read more about <a href="http://www.cfeclipse.org/go/documentation/user-docs/snippets">snippet variables here</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-11-16T13:55:20+11:00" pubdate data-updated="true">Nov 16<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2006/11/16/commenting-templates-with-author-data//page/20/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2006/11/15/getting-tag-functionality-in-cfscript/">
		
			Getting Tag Functionality in Cfscript</a>
	</h2>
	<div class="entry-content">
		<p>For some developers there is an age old argument between the use of ColdFusion tags and &lt;cfscript&gt;, I&#8217;m not going to delve too much into this argument as I believe you can use both for different scenarios.</p>

<p>What I will say is that I do like many things about &lt;cfscript&gt;. It is easy to read and arguably more elegant and concise. Of course the annoying thing is that it doesn&#8217;t have the full feature set of tags&#8230;.VERY annoying. So bad in fact that I often ask myself why I bother with it and whether or not Adobe will ever update it?</p>

<p>How many times have you been in the middle of coding something (in &lt;cfscript&gt;) and needed to do cfdump, cflocation, cfabort, cfsavecontent&#8230;.the list goes on. Because I do like cfscript I did what a lot of other cfscripters do, came up with some methods to add to my Utility.cfc (which I store in application scope) to simulate the functions I cannot natively use when writing cfscript.</p>

<p>Here is an example method for simulating &lt;cfdump&gt;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cffunction</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;dump&quot;</span> <span class="nx">access</span><span class="o">=</span><span class="s2">&quot;public&quot;</span> <span class="nx">output</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="nx">returntype</span><span class="o">=</span><span class="s2">&quot;void&quot;</span> <span class="nx">hint</span><span class="o">=</span><span class="s2">&quot;Simulates cfdump from a cfscript block&quot;</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfargument</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;var&quot;</span> <span class="nx">required</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;any&quot;</span> <span class="nx">hint</span><span class="o">=</span><span class="s2">&quot;Variable to dump&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfargument</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;expand&quot;</span> <span class="nx">required</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;boolean&quot;</span> <span class="nx">hint</span><span class="o">=</span><span class="s2">&quot;Boolean to expand the dump&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfargument</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;top&quot;</span> <span class="nx">required</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span> <span class="nx">hint</span><span class="o">=</span><span class="s2">&quot;Only show the top n layers&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="nx">cfscript</span><span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>      <span class="kd">var</span> <span class="nx">sOptions</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="nx">structKeyExists</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="s2">&quot;expand&quot;</span><span class="p">))</span>
</span><span class='line'>          <span class="nx">sOptions</span> <span class="o">=</span> <span class="s2">&quot; expand=&quot;</span> <span class="o">&amp;</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">expand</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="nx">structKeyExists</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="p">))</span>
</span><span class='line'>          <span class="nx">sOptions</span> <span class="o">=</span> <span class="nx">sOptions</span> <span class="o">&amp;</span> <span class="s2">&quot; top=&quot;</span> <span class="o">&amp;</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">top</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/cfscript&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfdump</span> <span class="kd">var</span><span class="o">=</span><span class="s2">&quot;#arguments.var#&quot;</span><span class="nx">sOptions</span> <span class="o">/&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfreturn</span> <span class="o">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cffunction&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>I set this up as a snippet in eclipse and use a snippet variable to enter the dump value. My trigger text in ud (for Utility Dump) and the snippet is as follows:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">application</span><span class="p">.</span><span class="nx">oUtility</span><span class="p">.</span><span class="nx">dump</span><span class="p">(</span><span class="nx">$$</span><span class="p">{</span><span class="kd">var</span><span class="o">:</span><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>I&#8217;ve attached my full Utility.cfc which contains the following methods:</p>

<ul>
<li>abort</li>
<li>dump</li>
<li>location</li>
<li>param</li>
<li>sleep</li>
</ul>


<p><a href="/images/uploads/2006/11/utility.zip">Click here to download Utility.cfc</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2006-11-15T19:56:49+11:00" pubdate data-updated="true">Nov 15<span>th</span>, 2006</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2006/11/15/getting-tag-functionality-in-cfscript//page/20/index.html#disqus_thread">Comments</a></div>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/page/19/" class="prev">Prev</a>
    
    
        <a href="/page/21/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Michael Sharman

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'chapter31';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-306772-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
