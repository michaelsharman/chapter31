
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>chapter31 &raquo;</title>
	<meta name="author" content="Michael Sharman">

	
	<meta name="description" content="As most ColdFusion developers know, you cannot reference &#8216;application&#8217; scoped variables directly in Application.cfc&#8217;s onSessionEnd &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="chapter31 &raquo;" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">chapter31 &raquo;</a></h1>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:chapter31.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/michaelsharman" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/michaelsharman" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:chapter31.com">
	</form>
</nav>

</header>
	
		

	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/09/28/caveat-when-calling-components-from-onsessionend/">
		
			Caveat When Calling Components From onSessionEnd()</a>
	</h2>
	<div class="entry-content">
		<p>As most ColdFusion developers know, you cannot reference &#8216;application&#8217; scoped variables directly in Application.cfc&#8217;s <em>onSessionEnd()</em> method. Instead you need to use the <em>ApplicationScope</em> parameter. <a href="http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=AppEvents_11.html">Notes from the docs</a>:</p>

<blockquote><p>You must use the <em>ApplicationScope</em> parameter to access the Application scope. You cannot reference the Application scope directly; for example, use Arguments.ApplicationScope.myVariable, not Application.myVariable. Use a named lock when you reference variables in the Application scope, as shown in the example.</p></blockquote>

<p>I ran into this today when working on some code a colleague wrote which was firing a method in an application scoped component, the code was as follows:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cffunction</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;onSessionEnd&quot;</span> <span class="nx">output</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="nx">returnType</span><span class="o">=</span><span class="s2">&quot;void&quot;</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfargument</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;SessionScope&quot;</span> <span class="nx">required</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfargument</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;AppScope&quot;</span> <span class="nx">required</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfscript</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="nx">arguments</span><span class="p">.</span><span class="nx">AppScope</span><span class="p">.</span><span class="nx">myCFC</span><span class="p">(</span><span class="nx">arg</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">SessionScope</span><span class="p">.</span><span class="nx">arg</span><span class="p">);</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/cfscript&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cffunction&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Obviously this method is being executed when the users session has expired. The use of <em>arguments.AppScope</em> means I can access the &#8216;myCFC&#8217; component which is stored in application scope.</p>

<p>Now to the actual problem&#8230;inside the cfc was a method which was logging information in the database, but the <em>datasource</em> value was coming from application scope.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfquery</span> <span class="nx">datasource</span><span class="o">=</span><span class="s2">&quot;#application.dsn#&quot;</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;qInsert&quot;</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Obviously arguments should be passed to components instead of being accessed directly, but that&#8217;s another story :)</p>

<p>I would have thought this would work fine, but no luck. It was a little bit of a pain to debug as you can&#8217;t see the results of onSessionEnd() being run.</p>

<p>The fix was simply to pass in the required variables as arguments to the method:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cffunction</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;onSessionEnd&quot;</span> <span class="nx">output</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="nx">returnType</span><span class="o">=</span><span class="s2">&quot;void&quot;</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfargument</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;SessionScope&quot;</span> <span class="nx">required</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfargument</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;AppScope&quot;</span> <span class="nx">required</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfscript</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="nx">arguments</span><span class="p">.</span><span class="nx">AppScope</span><span class="p">.</span><span class="nx">myCFC</span><span class="p">(</span><span class="nx">arg</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">SessionScope</span><span class="p">.</span><span class="nx">arg</span><span class="p">,</span><span class="nx">dsn</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">Appscope</span><span class="p">.</span><span class="nx">dsn</span><span class="p">);</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/cfscript&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cffunction&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Either way, be careful when doing this particularly if the method is being called from multiple application points and one of those could be <em>onSessionEnd()</em>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-09-28T13:19:55+10:00" pubdate data-updated="true">Sep 28<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/09/28/caveat-when-calling-components-from-onsessionend//page/17/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/09/28/jquery-and-swfobject-conflict/">
		
			jQuery and SWFObject Conflict</a>
	</h2>
	<div class="entry-content">
		<p>I experienced some strange behaviour today when building a site which was using jQuery and SWFObject. Our Flash files were loading ok and 99% of the javascript (using jQuery) was working fine.</p>

<p>The problem was found only in IE (sound familiar?) with the following code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#submitButton&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span></code></pre></td></tr></table></div></figure>


<p>When the &#8216;submitButton&#8217; was clicked, this function was not firing in IE. After some googling I found that there is a slight conflict with jQuery and SWFObject. I tested this and found the problem in jQuery 1.1.x and 1.2.1.</p>

<p><a href="http://blog.deconcept.com/swfobject/forum/discussion/540/jquery-and-swfobject-tips/">I found the fix</a> on the SWFObject forums which is basically using jQuery to load the .swf:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="kd">var</span> <span class="nx">so</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SWFObject</span><span class="p">(</span><span class="s2">&quot;movie.swf&quot;</span><span class="p">,</span> <span class="s2">&quot;mymovie&quot;</span><span class="p">,</span> <span class="s2">&quot;400&quot;</span><span class="p">,</span> <span class="s2">&quot;100%&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;#336699&quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">so</span><span class="p">.</span><span class="nx">addParam</span><span class="p">(</span><span class="s2">&quot;quality&quot;</span><span class="p">,</span> <span class="s2">&quot;low&quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">so</span><span class="p">.</span><span class="nx">addParam</span><span class="p">(</span><span class="s2">&quot;wmode&quot;</span><span class="p">,</span> <span class="s2">&quot;transparent&quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">so</span><span class="p">.</span><span class="nx">addParam</span><span class="p">(</span><span class="s2">&quot;salign&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">so</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">&quot;flashcontent&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>All good in all browsers :)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-09-28T11:27:24+10:00" pubdate data-updated="true">Sep 28<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/javascript/'>Javascript</a>


</div>
	
		<div class="comments"><a href="/2007/09/28/jquery-and-swfobject-conflict//page/17/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/09/27/creating-a-custom-farcry-login-page/">
		
			Creating a Custom FarCry Login Page</a>
	</h2>
	<div class="entry-content">
		<p>The FarCry security model is really very cool. You can of course setup users within the &#8216;admin&#8217; area and assign those users to groups (and those groups can have different permissions), but you can also authenticate via Active Directory or LDAP etc.</p>

<p>One thing you can also do with ease is secure particular navigation &#8216;nodes&#8217; of the website, thus quickly and easily creating password protected &#8216;member&#8217; areas.</p>

<p>Whenever you secure a navigation branch the user is presented with the default FarCry login screen as seen below:</p>

<p><img src="/images/uploads/2007/09/farcrylogin.jpg" alt="FarCry login" /></p>

<p>Because this is a &#8216;front end&#8217; page (seen by site visitors) you will often want to change the look and feel to mimick your client&#8217;s design for branding purposes. As with a lot of things with FarCry this is a piece of cake!</p>

<p>All you need to do is add your own login screen in /yourproject/customadmin/login/login.cfm</p>

<p>It&#8217;s probably best to copy the original login.cfm from /farcry/core/tags/navajo/login.cfm so all the FarCry &#8216;logic&#8217; is retained, just make all the HTML/CSS changes you need.</p>

<p>Here is an example of just that, a custom &#8216;front end&#8217; login screen:</p>

<p><img src="/images/uploads/2007/09/customlogin.jpg" alt="Custom login" /></p>

<p>The only thing with this is that when a client administrator needs to login to FarCry administration area (or &#8216;Webtop&#8217;) they will also see this &#8216;custom&#8217; template.</p>

<p>If this meets client expectations then you have nothing to worry about, if however you want to have the default FarCry login screen visible when an administrator is logging in to the back-end (while retaining the custom login screen on the front-end) then you need to make this simple change at the top of your custom login.cfm:</p>

<p>/yourproject/customadmin/login/login.cfm</p>

<p>Note that this needs to be at the top of the page (above your custom login code).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c">&lt;!--</span><span class="o">-</span>
</span><span class='line'>  <span class="nx">If</span> <span class="nx">a</span> <span class="nx">user</span> <span class="nx">is</span> <span class="nx">attempting</span> <span class="nx">to</span> <span class="nx">login</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">FarCry</span> <span class="nx">webtop</span><span class="p">,</span> <span class="nx">load</span> <span class="nx">the</span> <span class="k">default</span> <span class="nx">login</span> <span class="nx">screen</span><span class="p">.</span>
</span><span class='line'>  <span class="nx">Otherwise</span> <span class="nx">load</span> <span class="nx">the</span> <span class="nx">custom</span> <span class="s1">&#39;members&#39;</span> <span class="nx">login</span> <span class="nx">screen</span> <span class="k">for</span> <span class="nx">password</span> <span class="kr">protected</span> <span class="nx">site</span> <span class="nx">areas</span><span class="p">.</span>
</span><span class='line'> <span class="o">---&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">cfif</span> <span class="nx">structKeyExists</span><span class="p">(</span><span class="nx">URL</span><span class="p">,</span> <span class="s2">&quot;returnURL&quot;</span><span class="p">)</span> <span class="nx">AND</span> <span class="nx">URL</span><span class="p">.</span><span class="nx">returnURL</span> <span class="nx">CONTAINS</span> <span class="s2">&quot;farcry&quot;</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfimport</span> <span class="nx">taglib</span><span class="o">=</span><span class="s2">&quot;/farcry/core/tags/navajo&quot;</span> <span class="nx">prefix</span><span class="o">=</span><span class="s2">&quot;nj&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">nj</span><span class="o">:</span><span class="nx">Login</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfabort</span> <span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cfif&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can read a little more about <a href="http://docs.farcrycms.org:8080/confluence/display/FCDEV40/Customise+Login">customising logins here</a>.</p>

<p>This will work in FarCry versions 3 and 4.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-09-27T11:08:55+10:00" pubdate data-updated="true">Sep 27<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>, <a class='category' href='/categories/farcry/'>Farcry</a>


</div>
	
		<div class="comments"><a href="/2007/09/27/creating-a-custom-farcry-login-page//page/17/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/09/27/coldfire-10-released/">
		
			ColdFire 1.0 Released</a>
	</h2>
	<div class="entry-content">
		<p>Yesterday there was some news from <a href="http://www.coldfusionjedi.com/">Ray</a> and <a href="http://www.mischefamily.com/">Nathan Mische</a> regarding the 1.0 release of <a href="http://coldfire.riaforge.org/">ColdFire</a>, Nathan has a great <a href="http://www.mischefamily.com/nathan/index.cfm/2007/9/25/Get-ColdFire">write up here</a>.</p>

<p>From RIAForge:</p>

<blockquote><p>ColdFire is an extension to FireBug. It provides debug information in a FireBug tab as opposed to the bottom of the page. This lets you debug and keep your site layout intact, since ColdFusion&#8217;s built-in debug information can sometimes mess with your site layout.</p>

<p>ColdFire currently supports debugging information for:</p>

<p>General Information<br/>
Templates<br/>
Queries<br/>
CFTRACE<br/>
CFTIMER<br/>
Variables<br/>
Trace</p></blockquote>

<p>To use ColdFire you need <a href="http://www.getfirebug.com/">Firebug</a> for Firefox, for those that aren&#8217;t using Firebug at all&#8230;do yourselves a favour and get it now. It is an AMAZING tool to develop with.</p>

<p>I only just installed ColdFire and already I can see it will be another invaluable tool to use, so check it out.</p>

<p>The only thing for me so far is that I get no &#8216;Variables&#8217; output when developing with FarCry (v4). I&#8217;ll need to keep looking into this one. Have any other FarCry developers run across this?</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-09-27T10:13:37+10:00" pubdate data-updated="true">Sep 27<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>, <a class='category' href='/categories/farcry/'>Farcry</a>


</div>
	
		<div class="comments"><a href="/2007/09/27/coldfire-10-released//page/17/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/09/25/google-analytics-air-app/">
		
			Google Analytics AIR App</a>
	</h2>
	<div class="entry-content">
		<p>An interesting AIR app has been <a href="http://www.aboutnico.be/index.php/google-analytics-air-beta-sign-up/">released in Beta</a> for <a href="http://www.google.com/analytics">Google analytics</a>.</p>

<p>From the author:</p>

<blockquote><p>The Google Analytics Reporting suite is an Adobe AIR application that brings Google Analytics to the desktop. It uses itâ€™s own custom API to interact with Google and nearly implements all features of Analytics.</p></blockquote>

<p>You can even export the data to PDF, XLS (Excel) and XML.</p>

<p>Nice :)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-09-25T12:26:32+10:00" pubdate data-updated="true">Sep 25<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/air/'>AIR</a>


</div>
	
		<div class="comments"><a href="/2007/09/25/google-analytics-air-app//page/17/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/08/22/hostmysite-not-quite-as-stable-as-id-like/">
		
			Hostmysite Not Quite as Stable as I&#8217;d Like</a>
	</h2>
	<div class="entry-content">
		<p>I know most rave about how good <a href="http://www.hostmysite.com/">hostmysite</a> are. They do have great support and competitive plans, but even for a shared plan (CF+) I have had the same issues for a few months now.</p>

<p>My issue is simple, they seem to restart JRun on average 5-6 times per day. PER DAY!</p>

<p>Hmm, is this not a little too frequent? I have a couple of sites on there and it seems everytime I visit the site (5-6 times a day) the application restarts. Different application, different frameworks which work fine on local and stage but not on hostmysite.</p>

<p>I asked their tech team about it and they said there is a problem with some of the sites on the shared servers which means they have to restart JRun around 4 times a day (which I took to mean 8 times!).</p>

<p>At the end of the day good support and price doesn&#8217;t really make a difference when your site goes up and down more than a kid on a jumping castle.</p>

<p>I&#8217;ll have to monitor for a little longer, speak to tech support then consider moving the site elsewhere.</p>

<p>Has anyone else experienced this with the shared plans?</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-08-22T10:45:12+10:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/08/22/hostmysite-not-quite-as-stable-as-id-like//page/17/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/08/16/localurl-attribute-added-to-cfdocument-in-coldfusion-8/">
		
			&#8220;localURL&#8221; Attribute Added to Cfdocument in ColdFusion 8</a>
	</h2>
	<div class="entry-content">
		<p>I was debugging a legacy app today which I&#8217;d just migrated to a new server running ColdFusion 8. A part of this application generates a PDF using <cfdocument>. As usual it was working fine on my development and staging environments&#8230;but not on production! Damn.</p>

<p>After a bit of fiddling I found a <a href="http://coldfused.blogspot.com/2005/11/missing-images-in-cfdocument.html#8131215934099422866">related post</a> by <a href="http://coldfused.blogspot.com/">Rupesh Kumar</a> where he mentions that you may have problems if ColdFusion is behind a firewall.</p>

<p><em>CF server needs to send an HTTP request for the images. If the firewall prevents any outgoing connection from the server, CF will not be able to retrieve them</em></p>

<p>Now I already had outbound HTTP access, but I couldn&#8217;t call a site which was setup on the production machine from where I was browsing. Bugger, I was about to make a the necessary firewall changes when I looked at the <a href="http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=Tags_d-e_06.html">updated docs for CF8</a> and noticed a new attribute called &#8220;localURL&#8221; which;</p>

<blockquote><p>Specifies whether to retrieve image files directly from the local drive:</p>

<ul>
<li><p>yes: ColdFusion retrieves image files directly from the local drive rather than by using HTTP, HTTPS, or proxy.</p></li>
<li><p>no: ColdFusion uses HTTP, HTTPS, or proxy to retrieve image files even if the files are stored locally.</p></li>
</ul>
</blockquote>

<p>Nice!</p>

<p>Now <cfdocument> can simply call images from a local (relative) path instead of a full HTTP request as it did before.</p>

<p>I love CF8 :)</p>

<p>There are a few additions to this particular tag and you can <a href="http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=Tags_d-e_06.html">view them on the online docs</a> which have had a much needed facelift.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-08-16T19:00:12+10:00" pubdate data-updated="true">Aug 16<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/08/16/localurl-attribute-added-to-cfdocument-in-coldfusion-8//page/17/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/08/14/my-aptana-ide-is-busted/">
		
			My Aptana IDE Is Busted</a>
	</h2>
	<div class="entry-content">
		<p>Hmm, running with my past history of having that &#8216;special&#8217; touch with computers&#8230;my version of Aptana (Aptana IDE (build 0.2.8.15637)) has busted.</p>

<p>Kaput.</p>

<p>Not happy Jan.</p>

<p>I was running an Aptana update yesterday when the network went down. Everything seemed fine until I went to restart Apatana and got the following:</p>

<p><img src="/images/uploads/2007/08/aptana.jpg" alt="Aptana error" /></p>

<p>Damn</p>

<p>Damn</p>

<p>Damn</p>

<p>No fix as yet and roughly 500 lines in the .log file everytime I try to start up telling me I have a hell of a lot of missing bundles :(</p>

<p>Looks like an uninstall/re-install.</p>

<p>I heart computers</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-08-14T15:45:39+10:00" pubdate data-updated="true">Aug 14<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>, <a class='category' href='/categories/cfeclipse/'>cfeclipse</a>


</div>
	
		<div class="comments"><a href="/2007/08/14/my-aptana-ide-is-busted//page/17/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/08/14/storing-flash-coldfusion-and-sql-in-subversion/">
		
			Storing Flash, ColdFusion and SQL in Subversion</a>
	</h2>
	<div class="entry-content">
		<p>Most developers who use Source Code Management are familiar with the fact that while you can have any directory you want in your &#8216;repositories&#8217;, it is recommended that you use the following directories as a base layout:</p>

<ul>
<li><p>branches</p></li>
<li><p>tags</p></li>
<li><p>trunk</p></li>
</ul>


<p>The trunk directory will hold the &#8220;main line&#8221; of development, a branches directory will have &#8220;branch-ing&#8221; development (perhaps a maintenance release?), and a tags directory holds a &#8220;snapshot&#8221; in time (essentially a read-only area) often used when deploying to a production server.</p>

<p>For example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="err">/myrepository/myproject</span>
</span><span class='line'>  <span class="o">/</span><span class="nx">branches</span>
</span><span class='line'>  <span class="o">/</span><span class="nx">tags</span>
</span><span class='line'>  <span class="o">/</span><span class="nx">trunk</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the past when working in pure ColdFusion/HTML applications I&#8217;ve had my entire project sitting in the root of the &#8220;trunk&#8221; folder which makes it nice and easy as I can point my repository to &#8220;trunk&#8221; when updating or commiting.</p>

<p>But how does this work when you have Flash in your project? Essentially as a ColdFusion (or front end) developer I&#8217;m not interested in having ActionScript files or any .fla&#8217;s/Flash assets in my project directory let alone on a production or staging server!</p>

<p>Some people like to have totally separate project repositories to hold all Flash elements, but I like to keep everything located in the same svn location. This seems more logical to me.</p>

<p>To this end I&#8217;ve included 3 sub-directories into my &#8220;trunk&#8221; directory:</p>

<ul>
<li><p>flash</p></li>
<li><p>sql</p></li>
<li><p>www</p></li>
</ul>


<p>Which gives me:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="err">/myrepository/myproject</span>
</span><span class='line'>  <span class="o">/</span><span class="nx">branches</span>
</span><span class='line'>  <span class="o">/</span><span class="nx">tags</span>
</span><span class='line'>  <span class="o">/</span><span class="nx">trunk</span>
</span><span class='line'>      <span class="o">/</span><span class="nx">flash</span>
</span><span class='line'>      <span class="o">/</span><span class="nx">sql</span>
</span><span class='line'>      <span class="o">/</span><span class="nx">www</span>
</span></code></pre></td></tr></table></div></figure>


<p>That way any Flash developers working on the project can commit their Flash assets to the &#8220;flash&#8221; directory, any database scripts can be stored in the &#8220;sql&#8221; directory and the entire <em>deployable</em> project (including the exported .swf&#8217;s) needed by the web server can live in the &#8220;www&#8221; directory.</p>

<p>With this setup each developer only has the files which they directly need on their workstation/development environment. It&#8217;s also just as easy to &#8220;tag&#8221; the &#8220;www&#8221; directory for production deployments.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-08-14T09:28:38+10:00" pubdate data-updated="true">Aug 14<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>, <a class='category' href='/categories/svn/'>SVN</a>


</div>
	
		<div class="comments"><a href="/2007/08/14/storing-flash-coldfusion-and-sql-in-subversion//page/17/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/08/12/facebook-homepage-source-code-found/">
		
			Facebook Homepage Source Code Found!</a>
	</h2>
	<div class="entry-content">
		<p>Hmm, seems a problem with the .htaccess file made the source for <a href="http://www.facebook.com/">Facebooks</a> homepage available.</p>

<p><a href="http://www.nik.com.au/archives/2007/08/11/learning-from-facebook-preventing-php-leakage/">Nik Cubrilovic</a> offers an explanation from a technical standpoint:</p>

<blockquote><p>PHP has always been notorious for sometimes not processing requests poorly and sending back the source code for pages to the client. Because of the way mod_php works with apache, if mod_php fails in intercepting and processing the request, then apache will just serve it back to the client as an ordinary text file.</p></blockquote>

<p>He also goes on to suggest good security practices with PHP/Apache which is well worth a read for any developer.</p>

<p><a href="http://facebooksecrets.blogspot.com/2007/08/facebook-home-page-code.html">Click here</a> to see the actual code and more Facebook &#8216;secrets&#8217;</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-08-12T22:45:00+10:00" pubdate data-updated="true">Aug 12<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/08/12/facebook-homepage-source-code-found//page/17/index.html#disqus_thread">Comments</a></div>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/page/16/" class="prev">Prev</a>
    
    
        <a href="/page/18/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Michael Sharman

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'chapter31';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-306772-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
