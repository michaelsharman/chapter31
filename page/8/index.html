
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>chapter31 &raquo;</title>
	<meta name="author" content="Michael Sharman">

	
	<meta name="description" content="For those that use gtalk/gmail, google have finally caught up and released voice and video chat. They even help you buy a webcam! Nov 12th, 2008 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="chapter31 &raquo;" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">chapter31 &raquo;</a></h1>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:chapter31.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/michaelsharman" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/michaelsharman" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:chapter31.com">
	</form>
</nav>

</header>
	
		

	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/2008/11/12/google-releases-video-chat/">
		
			Google Releases Video Chat</a>
	</h2>
	<div class="entry-content">
		<p>For those that use gtalk/gmail, google have finally caught up and released <a href="http://mail.google.com/videochat">voice and video chat</a>.</p>

<p>They even help you <a href="http://www.google.com/mail/help/videochat/learnmore.html">buy a webcam</a>!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-11-12T14:04:21+11:00" pubdate data-updated="true">Nov 12<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/categories/misc/'>Misc</a>, <a class='category' href='/categories/tools/'>Tools</a>


</div>
	
		<div class="comments"><a href="/2008/11/12/google-releases-video-chat//page/8/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2008/11/12/var-scoping-how-and-where-do-you-set-your-function-variables/">
		
			Var Scoping - How and Where Do You Set Your Function Variables?</a>
	</h2>
	<div class="entry-content">
		<p>As everybody knows you should var scope ALL local function variables inside ColdFusion components, and these variables must be declared at the top of your function before any other code. If you place other code above a &#8220;var&#8221; scoped variable in your method signature an exception will be thrown.</p>

<p>Depending on how you define you methods this will probably be fine, but I got to thinking recently on how this works with exception handling within your function, specifically for try/catch blocks.</p>

<p>As you can&#8217;t add code above your var scoped variables there is no way to wrap your var scope block in a try/catch block. With this being the case you <em>may</em> have problems if an exception is thrown when you var scope a local variable.</p>

<p>An example of what I&#8217;m talking about:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cffunction</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;getWorkSchedule&quot;</span> <span class="nx">access</span><span class="o">=</span><span class="s2">&quot;public&quot;</span> <span class="nx">returntype</span><span class="o">=</span><span class="s2">&quot;query&quot;</span><span class="o">&gt;</span>  
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfset</span> <span class="kd">var</span> <span class="nx">oUser</span> <span class="o">=</span> <span class="nx">getUserService</span><span class="p">().</span><span class="nx">getUser</span><span class="p">()</span> <span class="o">/&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cftry</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="p">...</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">cfcatch</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="err">/cfcatch&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/cftry&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cffunction&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the fictional example shown above we have a method which returns a users work schedule, the first thing done is retrieving an instance of <em>User</em> from the <em>UserService</em>. As this has been set at the same time we var scope our variable (oUser), what happens if the call to <em>getUserService().getUser()</em> throws an exception? The exception would bubble up to the calling template (the template that called getWorkSchedule()) which might be fine but might also be unexpected.</p>

<p>This is just food for thought, it may be that instead you want to define your method like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cffunction</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;getWorkSchedule&quot;</span> <span class="nx">access</span><span class="o">=</span><span class="s2">&quot;public&quot;</span> <span class="nx">returntype</span><span class="o">=</span><span class="s2">&quot;query&quot;</span><span class="o">&gt;</span>  
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfset</span> <span class="kd">var</span> <span class="nx">oUser</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cftry</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">cfset</span> <span class="nx">oUser</span> <span class="o">=</span> <span class="nx">getUserService</span><span class="p">().</span><span class="nx">getUser</span><span class="p">()</span> <span class="o">/&gt;</span>
</span><span class='line'>      <span class="p">...</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">cfcatch</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="err">/cfcatch&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/cftry&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cffunction&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here we take the approach of always declaring our local variables as empty strings or integers etc (simple values) <strong>before</strong> setting explicit values into them. This means all your variables are cleanly defined and you can catch any possible exceptions if you need to inside the try/catch.</p>

<p>The only is that is feels like a bit of double handling because I need to <cfset> my variables twice&#8230;</p>

<p>How do other people handle this? Lend me your thoughts :)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-11-12T11:40:34+11:00" pubdate data-updated="true">Nov 12<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2008/11/12/var-scoping-how-and-where-do-you-set-your-function-variables//page/8/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2008/11/10/invalid-serial-number-when-upgrading-to-flex-builder-3-pro/">
		
			&#8220;Invalid Serial Number&#8221; When Upgrading to Flex Builder 3 Pro</a>
	</h2>
	<div class="entry-content">
		<p>Ok this was annoying&#8230;I had an older trial version of the standalone Flex Builder 3 on my system (Mac 10.5) and wanted to activate it with a new serial for FB3 Professional.</p>

<p>Whenever I entered the serial in &#8220;Help -> Manage Flex Licenses&#8221; I kept getting a message saying &#8220;Invalid serial number&#8221; even though it was a brand new serial. Damn.</p>

<p><a href="http://www.lynchconsulting.com.au/go/blog">Mark</a> gave me the original hint to remove the <em>license.properties</em> file under <em>/Library/Application Support/Adobe/Flex</em> but FB wasn&#8217;t re-creating it when I entered my serial on startup. I needed to create the file manually and enter my serial number. These steps got me going:</p>

<ul>
<li>cd /Library/Application Support/Adobe/Flex</li>
<li>sudo touch license.properties (create the file)</li>
<li>sudo nano license.properties (edit the file)</li>
<li>enter the following &#8220;flexbuilder3=xxxx-xxxx-xxxx-xxxx-xxxx-xxxx&#8221; (where xxx etc is your actual serial)</li>
<li>restart Flex Builder</li>
</ul>


<p>Also thanks to <a href="http://62five.com/blog/?p=26">62five.com</a> for the post.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-11-10T14:16:54+11:00" pubdate data-updated="true">Nov 10<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/categories/flex/'>Flex</a>


</div>
	
		<div class="comments"><a href="/2008/11/10/invalid-serial-number-when-upgrading-to-flex-builder-3-pro//page/8/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2008/11/03/caveat-using-datediff-to-compare-difference-in-days/">
		
			Caveat Using dateDiff() to Compare Difference in Days</a>
	</h2>
	<div class="entry-content">
		<p>I had <a href="http://www.chapter31.com/2007/10/05/createodbcdate-returns-time-as-well/">some problems a little while ago</a> using dateCompare() and the same thing bit me recently with dateDiff(). Well really I had a problem with createODBCDate(), but let me explain.</p>

<p>I wanted to compare the &#8220;day&#8221; value between 2 dates like;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfscript</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="nx">date1</span> <span class="o">=</span> <span class="nx">now</span><span class="p">();</span>
</span><span class='line'>  <span class="nx">date2</span> <span class="o">=</span> <span class="nx">myQuery</span><span class="p">.</span><span class="nx">dateCreated</span><span class="p">;</span>
</span><span class='line'>  
</span><span class='line'>  <span class="nx">dateDifference</span> <span class="o">=</span> <span class="nx">dateDiff</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="nx">date1</span><span class="p">,</span> <span class="nx">date2</span><span class="p">);</span>  
</span><span class='line'><span class="o">&lt;</span><span class="err">/cfscript&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The initial problem was that &#8220;myQuery.dateCreated&#8221; has a time value associated with it, as does the value of now(). This meant that where I should have had (or expected to have) a value of &#8220;1&#8221; if date2 was the next day, I wasn&#8217;t because the times were being calculated and both dates where within a 24-hour range. Makes sense.</p>

<p>My first simple fix (which was <a href="http://www.chapter31.com/2007/10/05/createodbcdate-returns-time-as-well/">what I tried before</a>) was to add a <em>createODBCDate()</em> around my dates.</p>

<p>This doesn&#8217;t work though, indeed when you ouput the results of createODBCDate() it looks as though you have a date object with no time but you really DO have a time&#8230;you just can&#8217;t see it :(</p>

<p>2 ways around this both involve stripping out the time part&#8230;using createDate() which is a bit unwieldy:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfscript</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="nx">date1</span> <span class="o">=</span> <span class="nx">createDate</span><span class="p">(</span><span class="nx">year</span><span class="p">(</span><span class="nx">now</span><span class="p">()),</span> <span class="nx">month</span><span class="p">(</span><span class="nx">now</span><span class="p">()),</span> <span class="nx">day</span><span class="p">(</span><span class="nx">now</span><span class="p">()));</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cfscript&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Or using dateFormat():</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfscript</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="nx">date1</span> <span class="o">=</span> <span class="nx">dateFormat</span><span class="p">(</span><span class="nx">now</span><span class="p">(),</span> <span class="s2">&quot;yyyy/mmm/dd&quot;</span><span class="p">);</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cfscript&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>So another note to self&#8230;whenever you want to do any sort of date comparisons watch out for the &#8220;time&#8221; values unless of course you want the times as part of your comparison!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-11-03T17:34:48+11:00" pubdate data-updated="true">Nov 3<span>rd</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2008/11/03/caveat-using-datediff-to-compare-difference-in-days//page/8/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2008/10/27/fun-with-reserved-words-in-mysql-5/">
		
			Fun With Reserved Words in MySQL 5</a>
	</h2>
	<div class="entry-content">
		<p>Most tools or languages you work with have words which are &#8220;reserved&#8221;, meaning you cannot use them in a variable declaration or schema definition etc as they have special treatment in the underlying system. If you try to do this you&#8217;ll usually get an immediate error.</p>

<p>Today I needed to change an existing SQL query from a &#8220;SELECT *&#8221; to explicitly defining each column because I wanted to add some date formating at the SQL level.</p>

<p>The query (after modifications) was as follows:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">SELECT</span>
</span><span class='line'>  <span class="nx">id</span>
</span><span class='line'>  <span class="p">,</span> <span class="nx">date_format</span><span class="p">(</span><span class="nx">dt_start</span><span class="p">,</span> <span class="s2">&quot;%d/%m/%Y&quot;</span><span class="p">)</span> <span class="nx">as</span> <span class="nx">dt_start</span>
</span><span class='line'>  <span class="p">,</span> <span class="nx">date_format</span><span class="p">(</span><span class="nx">dt_end</span><span class="p">,</span> <span class="s2">&quot;%d/%m/%Y&quot;</span><span class="p">)</span> <span class="nx">as</span> <span class="nx">dt_end</span>
</span><span class='line'>  <span class="p">,</span> <span class="nx">repeat</span>
</span><span class='line'><span class="nx">FROM</span>
</span><span class='line'>  <span class="nx">smsschedule</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now remember that the code <em>used</em> to be SELECT * and was working fine. But when I changed it as above it failed and threw an error:</p>

<blockquote><p>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near&#8230;</p></blockquote>

<p>The reason is that &#8220;repeat&#8221; is a <a href="http://dev.mysql.com/doc/mysqld-version-reference/en/mysqld-version-reference-reservedwords-5-0.html">MySQL reserved word</a>. The interesting part (and real reason for this post) is that it didn&#8217;t fail when the query was sent as &#8220;*&#8221;, only when I explicitly set the invalid column in the SELECT list.</p>

<p>This was sent from ColdFusion but I also checked directly against the database (MySQL query browser) and had the same result.</p>

<p>Might be best to <a href="http://dev.mysql.com/doc/mysqld-version-reference/en/mysqld-version-reference-reservedwords-5-0.html">check the reserved list</a>, most are obvious but a few could catch you out if you&#8217;re not aware of them.</p>

<p>Also interesting to note is that the table in question contained 2 column names which I thought would have failed. Those being &#8220;hour&#8221; and &#8220;minute&#8221;.</p>

<p>Not only did they not fail, but they aren&#8217;t in the reserved words list for MySQL. It would appear that function names (at least some of them) are ok to be used as column names. Still&#8230;I wouldn&#8217;t really recommend using these column names in your tables :)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-10-27T23:21:00+11:00" pubdate data-updated="true">Oct 27<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/categories/databases/'>Databases</a>


</div>
	
		<div class="comments"><a href="/2008/10/27/fun-with-reserved-words-in-mysql-5//page/8/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2008/10/22/aqua-data-studio-7-includes-an-er-modeler/">
		
			Aqua Data Studio 7 Includes an ER Modeler</a>
	</h2>
	<div class="entry-content">
		<p>Those of you who miss diagramming support when using MySQL tools will be pleased to know that the <a href="http://www.aquafold.com/d7/docs/index.html">latest version</a> of <a href="http://www.aquafold.com/">Aqua Data Studio</a> has support for ER Modeling :)</p>

<blockquote><p>The Entity-Relationship (ER) Modeler we’ve built into Aqua Data Studio 7 is as powerful as even the best standalone database diagramming tools. Use it to design a new database from scratch, understand and clean up a database nightmare in your office, or visually understand entity relationships in existing databases to write more effective SQL queries. Then share your diagram with the team through Aqua Data Studio’s integrated Subversion (SVN) and CVS source control clients.</p></blockquote>

<p>I&#8217;ve really missed creating Entity Relationship diagrams when using MySQL as they are fantastic during planning and of course offer great documentation for all developers, particularly as your project (and database) grows.</p>

<p>This will start filling a huge hole and help to close the gap in comparison to other vendors database tools.</p>

<p>ADS is a comercial product so hopefully diagramming will be added to the free MySQL Administrator soon.</p>

<p><a href="/images/uploads/2008/10/adsmodeler.jpg"><img src="/images/uploads/2008/10/adsmodeler-300x225.jpg" alt="" /></a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-10-22T14:23:49+11:00" pubdate data-updated="true">Oct 22<span>nd</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/categories/databases/'>Databases</a>, <a class='category' href='/categories/tools/'>Tools</a>


</div>
	
		<div class="comments"><a href="/2008/10/22/aqua-data-studio-7-includes-an-er-modeler//page/8/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2008/10/22/problems-submitting-a-form-via-enter-in-ie/">
		
			Problems Submitting a Form via &#8216;Enter&#8217; in IE</a>
	</h2>
	<div class="entry-content">
		<p>Like many things, handling form submissions with <a href="http://www.adobe.com/products/coldfusion/">ColdFusion</a> can be done many many ways. A preferred method which I&#8217;ve been using for years now is looking for a specific element in the form struct. Something like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfif</span> <span class="nx">structKeyExists</span><span class="p">(</span><span class="nx">form</span><span class="p">,</span> <span class="s2">&quot;myelement&quot;</span><span class="p">)</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="c">&lt;!--</span><span class="o">-</span> <span class="nx">handle</span> <span class="nx">form</span> <span class="nx">submission</span> <span class="nx">here</span> <span class="o">---&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cfif&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Most times I use a hidden field as the form element to look for (in my <a href="http://www.cfquickdocs.com/#StructKeyExists">structKeyExists()</a>), but I came across something funny today where I happened to be looking for the <em>name</em> of a submit button.</p>

<p>My form was very basic:</p>

<p><a href="/images/uploads/2008/10/form.png"><img src="/images/uploads/2008/10/form.png" alt="" /></a></p>

<p>If this form is submitted by clicking the submit button (&#8220;Go&#8221;) in all browsers I get the following form struct:</p>

<p><a href="/images/uploads/2008/10/picture-3.png"><img src="/images/uploads/2008/10/picture-3.png" alt="" /></a></p>

<p>Notice that I have <em>2 form elements</em> in the form dump, &#8220;btnSearch&#8221; which is the submit button and &#8220;searchCriteria&#8221; which is the text box. So far so good, but what happens when I submit the form by hitting the &#8220;enter&#8221; key (when I have focus in the text box)?</p>

<p>In most browsers you get the same form dump as above&#8230;not so with IE where I get the following:</p>

<p><a href="/images/uploads/2008/10/picture-2.png"><img src="/images/uploads/2008/10/picture-2.png" alt="" /></a></p>

<p>As you can see, my submit button (btnSearch) <em><strong>does not exist in the form struct!</strong></em>.</p>

<p>The submit button HTML was:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;btnSearch&quot;</span> <span class="nx">id</span><span class="o">=</span><span class="s2">&quot;btnSearch&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Go&quot;</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>After discussions with <a href="http://www.lynchconsulting.com.au/blog/">Mark Lynch</a> and some testing it appears that this only happens when you have <em>a single text element</em> on the page. If you have 2 or more textboxes then the form submit button appears in the form struct as expected</p>

<p>For those asking whether it&#8217;s really important, after all how often will you have a form with a single text box. Ever used a search form? :)</p>

<p>The easy way around this <em>bug</em> is to never look for a submit button, instead look for a hidden field or a text box.</p>

<p>For those who sometimes use 2 submit buttons on the same page and take action depending on which one was clicked&#8230;the same thing happens i.e. neither submit button exists in the form struct (in IE) if you hit &#8220;enter&#8221;. In Firefox the submit button which appears first in the form markup exists in the form!</p>

<p>All in all I&#8217;d recommend never using the name of a submit button to determine the action of a form submission. The only exception is if you have multiple submit buttons and you understand and are happy with the default action in IE (the first submit button existing etc).</p>

<p>Some might say you could have a 2nd textbox on the form and hide it using CSS. While this would work it just feels wrong and a bit of a hack.</p>

<p>If you&#8217;re curious, here&#8217;s a small compatibility table of my findings on Mac OSX (except IE of course which was on Windows XP):</p>

<table>
<thead>
<tr>
<th></th>
<th> Browser </th>
<th> Submit exists on enter </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td> Firefox 3.0.3 </td>
<td> Yes</td>
</tr>
<tr>
<td></td>
<td> </td>
<td></td>
</tr>
<tr>
<td></td>
<td> Internet Explorer 7 (7.0.5730.13) </td>
<td> No</td>
</tr>
<tr>
<td></td>
<td> </td>
<td></td>
</tr>
<tr>
<td></td>
<td> Internet Explorer 6 SP2 (6.0.2900.2180) </td>
<td> No</td>
</tr>
<tr>
<td></td>
<td> </td>
<td></td>
</tr>
<tr>
<td></td>
<td> Opera 9.52/9.61 </td>
<td> Yes</td>
</tr>
<tr>
<td></td>
<td> </td>
<td></td>
</tr>
<tr>
<td></td>
<td> Safari 3.1.2 </td>
<td> Yes</td>
</tr>
<tr>
<td></td>
<td> </td>
<td></td>
</tr>
<tr>
<td></td>
<td> Camino 1.6.4 </td>
<td> Yes</td>
</tr>
</tbody>
</table>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-10-22T13:35:25+11:00" pubdate data-updated="true">Oct 22<span>nd</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/categories/x-html/'>(X)HTML</a>


</div>
	
		<div class="comments"><a href="/2008/10/22/problems-submitting-a-form-via-enter-in-ie//page/8/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2008/10/14/generaterandomkey-udf-with-several-handy-options/">
		
			generateRandomKey() UDF With Several Handy Options</a>
	</h2>
	<div class="entry-content">
		<p>Working on a ColdFusion project recently I had the need to generate a random key; the format of which was based on a specific set of business rules. I actually ended up writing a basic UDF to handle this but after the fact I went looking to see if I could find something which provided some of the features I was after.</p>

<p>Although I found several through google and <a href="http://cflib.org/">cflib</a> they weren&#8217;t completely what I was after. Not finding exactly what I needed inspired me to write my own one based on the following requirements:</p>

<ul>
<li>Users can set the length of the returned key</li>
<li>Key can be UPPER, lower or MixEd case</li>
<li>Format can include numeric, string, alphanumeric (a-zA-Z0-9) and special characters</li>
<li>Potentially confusing characters (e.g. o, i, l, s, O, I, L, S etc) are ignored by default and users can pass in their own list of special characters (overriding the default list) to be ignored from the returned key</li>
<li>Users can pass a fixed prefix or suffix, handy if your business needs to generate order numbers which all start with &#8220;CF-&#8221; etc</li>
<li>Users can specify that the first (or last) &#8216;x&#8217; characters in the key are numeric, the rest of the key follows the &#8220;format&#8221; argument</li>
</ul>


<p>Some examples:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">generateRandomKey</span><span class="p">();</span>
</span><span class='line'><span class="c1">//DCE8YDEK</span>
</span><span class='line'>
</span><span class='line'><span class="nx">generateRandomKey</span><span class="p">(</span><span class="k">case</span><span class="o">=</span><span class="s2">&quot;mixed&quot;</span><span class="p">);</span>
</span><span class='line'><span class="c1">//wYu3Kbaj</span>
</span><span class='line'>
</span><span class='line'><span class="nx">generateRandomKey</span><span class="p">(</span><span class="k">case</span><span class="o">=</span><span class="s2">&quot;mixed&quot;</span><span class="p">,</span> <span class="nx">format</span><span class="o">=</span><span class="s2">&quot;alphanumeric&quot;</span><span class="p">,</span> <span class="nx">length</span><span class="o">=</span><span class="s2">&quot;10&quot;</span><span class="p">);</span>
</span><span class='line'><span class="c1">//7hE3hv4Yzr</span>
</span><span class='line'>
</span><span class='line'><span class="nx">generateRandomKey</span><span class="p">(</span><span class="nx">format</span><span class="o">=</span><span class="s2">&quot;special&quot;</span><span class="p">,</span> <span class="nx">fixedPrefix</span><span class="o">=</span><span class="s2">&quot;MPS&quot;</span><span class="p">);</span>
</span><span class='line'><span class="c1">//MPS&gt;M_!{</span>
</span><span class='line'>
</span><span class='line'><span class="nx">generateRandomKey</span><span class="p">(</span><span class="k">case</span><span class="o">=</span><span class="s2">&quot;upper&quot;</span><span class="p">,</span> <span class="nx">format</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="nx">numericPrefix</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="nx">length</span><span class="o">=</span><span class="s2">&quot;12&quot;</span><span class="p">);</span>
</span><span class='line'><span class="c1">//193TYTVDYJFZ</span>
</span><span class='line'>
</span><span class='line'><span class="nx">generateRandomKey</span><span class="p">(</span><span class="nx">format</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">,</span> <span class="nx">length</span><span class="o">=</span><span class="s2">&quot;12&quot;</span><span class="p">);</span>
</span><span class='line'><span class="c1">//692490463609</span>
</span><span class='line'>
</span><span class='line'><span class="nx">generateRandomKey</span><span class="p">(</span><span class="k">case</span><span class="o">=</span><span class="s2">&quot;lower&quot;</span><span class="p">,</span> <span class="nx">format</span><span class="o">=</span><span class="s2">&quot;special&quot;</span><span class="p">,</span> <span class="nx">specialChars</span><span class="o">=</span><span class="s2">&quot;*,&amp;&quot;</span><span class="p">,</span> <span class="nx">length</span><span class="o">=</span><span class="s2">&quot;12&quot;</span><span class="p">);</span>
</span><span class='line'><span class="c1">//fqr74mhb*cq&amp;</span>
</span></code></pre></td></tr></table></div></figure>


<p>If anyone is interested you can <a href="/images/uploads/2008/10/generaterandomkey1.txt">download the UDF here</a>.</p>

<p>As usual comments and critiques are always welcome :)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-10-14T00:29:14+11:00" pubdate data-updated="true">Oct 14<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2008/10/14/generaterandomkey-udf-with-several-handy-options//page/8/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2008/09/04/mooflair-on-adobes-top-10-list/">
		
			mooFlair on Adobe&#8217;s Top 10 List</a>
	</h2>
	<div class="entry-content">
		<p>Areez Gangji has just posted on <a href="http://www.adobe.com/devnet/">Adobe devnet</a> an article listing the &#8221;<a href="http://www.adobe.com/devnet/flex/articles/apps_students.html">Top 10 Adobe Flex and AIR applications for students</a>&#8221;.</p>

<p>I&#8217;m very proud to say that a good friend (and fellow <a href="http://www.daemon.com.au/">Daemon</a> alumni) <a href="http://mxbase.blogspot.com/">Patrick Tai</a> has an app on their called <a href="http://mooflair.com/">mooFlair</a> which he originally built for the AIR derby.</p>

<p>What is mooFlair?</p>

<blockquote><p>A desktop application that helps you to manage and watch both online and offline FLVs videos. More than a simple flv player, build your own FLV library and save your compilations in playlists.
Import FLVs from your computer - including h.264 encoded videos, browse categorised RSS Feeds or search directly from the most popular video content providers and add new video clips to your searchable library. If you need to watch all your videos off line, simply use the download option.</p></blockquote>

<p>Rss feeds and search are available for the following content providers:</p>

<ul>
<li>YouTube</li>
<li>BlipTv</li>
<li>Dailymotion</li>
<li>Metacafe</li>
<li>5min Life Videopedia</li>
<li>SpikedHumour</li>
</ul>


<p>I&#8217;ve been using mooFlair for a while now and it&#8217;s fantastic. Check it out, there&#8217;s even an <a href="http://mooflair.com/demo/index.html">online demo</a> to try :)</p>

<p><a href="http://mooflair.com/"><img src="/images/uploads/2008/09/screenshotnew.jpg" alt="" /></a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-09-04T08:33:59+10:00" pubdate data-updated="true">Sep 4<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/categories/air/'>AIR</a>, <a class='category' href='/categories/flex/'>Flex</a>, <a class='category' href='/categories/tools/'>Tools</a>


</div>
	
		<div class="comments"><a href="/2008/09/04/mooflair-on-adobes-top-10-list//page/8/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2008/09/02/google-chrome-google-entering-the-browser-market/">
		
			Google Chrome - Google Entering the Browser Market</a>
	</h2>
	<div class="entry-content">
		<p>Yep, <a href="http://googleblog.blogspot.com/2008/09/fresh-take-on-browser.html">Google have entered the browser market</a> with Google Chrome.</p>

<p>Although the press release was sent a little early, you can read an interesting comic book (PDF) <a href="http://books.google.com/books?id=8UsqHohwwVYC&amp;printsec=frontcover">here</a> with some quite technical details on the ins and outs of Google&#8217;s newest <strike>plan for world domination</strike> philanthropic effort.</p>

<p>Webkit is the rendering engine, and the V8 team have created an entirely new JavaScript Virtual Machine to help make this browser super quick and stable. Google have also gone to great efforts to make Chrome a secure browser to use.</p>

<p>Have a read of the <a href="http://books.google.com/books?id=8UsqHohwwVYC&amp;printsec=frontcover">comic</a>, lots of picture book info there (which makes it easy to digest) :)</p>

<p>Currently &#8216;Chrome&#8217; is availabe as a Windows Beta, but importantly the entire code is open source :)</p>

<p>Will be interesting to see how this pans out with the current &#8220;browser wars&#8221; between IE and Firefox. Hopefully it will help push web standards and raise the bar for all browsers.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-09-02T12:36:09+10:00" pubdate data-updated="true">Sep 2<span>nd</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/categories/misc/'>Misc</a>


</div>
	
		<div class="comments"><a href="/2008/09/02/google-chrome-google-entering-the-browser-market//page/8/index.html#disqus_thread">Comments</a></div>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/page/7/" class="prev">Prev</a>
    
    
        <a href="/page/9/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Michael Sharman

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'chapter31';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-306772-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
