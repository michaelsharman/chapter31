
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>chapter31 &raquo;</title>
	<meta name="author" content="Michael Sharman">

	
	<meta name="description" content="We&#8217;ve been using Brandon Purcell&#8217;s excellent accelerate custom cache tag for a few projects. I had an issue today while testing a new &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="chapter31 &raquo;" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">chapter31 &raquo;</a></h1>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:chapter31.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/michaelsharman" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/michaelsharman" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:chapter31.com">
	</form>
</nav>

</header>
	
		

	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/05/27/cfml-issue-on-railo-with-the-accelerate-cache-tag/">
		
			CFML Issue on Railo With the Accelerate Cache Tag</a>
	</h2>
	<div class="entry-content">
		<p>We&#8217;ve been using <a href="http://www.bpurcell.org">Brandon Purcell&#8217;s</a> excellent accelerate custom cache tag for a few projects. I had an issue today while testing a new app which is about to go live. It seemed that whatever I did nothing would be cached.</p>

<p>Upon investigation it seemed that the caching worked fine on Adobe ColdFusion but not on Railo. A quick look at the codebase brought me to this line:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfif</span> <span class="nx">IsDefined</span><span class="p">(</span><span class="s2">&quot;application.accelerator.#scriptName#.#primarykey#.#secondaryKey#&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Basically this was always returning false, even when I knew the key was in the application scope. I changed it to the following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfif</span> <span class="nx">structKeyExists</span><span class="p">(</span><span class="nx">application</span><span class="p">,</span><span class="s2">&quot;accelerator[scriptName][primarykey][secondaryKey]&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Success! (Thanks AJ for the final structKeyExists)</p>

<p>Just a quick fyi to anyone else who might be using this custom tag on Railo.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-05-27T16:30:30+10:00" pubdate data-updated="true">May 27<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>, <a class='category' href='/categories/railo/'>Railo</a>


</div>
	
		<div class="comments"><a href="/2010/05/27/cfml-issue-on-railo-with-the-accelerate-cache-tag//page/6/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/05/13/removing-duplicate-rows-in-open-office-calc/">
		
			Removing Duplicate Rows in Open Office (Calc)</a>
	</h2>
	<div class="entry-content">
		<p>I needed to de-dupe a spreadsheet the other day and <a href="http://blogs.sun.com/oootnt/entry/removing_duplicate_rows_in_calc">found a great how-to</a> from google. Thought I&#8217;d post it here for my own future purposes:</p>

<hr />

<p>There is no automatic function to remove duplicate rows. Follow these steps to delete all rows that have duplicate values in column A:</p>

<ol>
<li><p>Select all cells of the current data range.</p>

<p> On most systems, you can click any cell inside the data range, then press Ctrl+Multiplication key on the numeric keypad.</p></li>
<li><p>Sort the data range by column A.</p>

<p> Choose Data - Sort.</p></li>
<li><p>Click an empty cell in the first row. Let&#8217;s assume it is cell C1. Enter the formula:</p>

<p> =IF(A1=A2;1;0)</p>

<p> This will display 1 if the current row has the same value in column A as the next row. It will display 0 if the values are different.</p></li>
<li><p>Copy the formula down for all rows of the data range.</p>

<p> Drag the lower right edge of the cell C1 down to the last row.</p></li>
<li><p>Now the formulas must be replaced by their values to freeze the contents.</p>

<p> While the column C is still highlighted, press Ctrl+C to copy all selected cells to the clipboard.</p></li>
<li><p>Press Shift+Ctrl+V to open the Paste Special dialog box.</p>

<p> In the Selection area, enable only the Numbers command; disable the other Selection commands. Click OK.</p></li>
<li><p>Select the whole data range including the new column C and sort the range by column C.</p>

<p> Choose Data - Sort.</p></li>
<li><p>Select all rows which have a value 1 in column C, then press Del key.</p></li>
<li><p>Optional steps: Delete column C. Select the remaining rows and sort them again by column A.</p></li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-05-13T15:05:04+10:00" pubdate data-updated="true">May 13<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2010/05/13/removing-duplicate-rows-in-open-office-calc//page/6/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/05/10/ie-and-underscores-in-domain-names/">
		
			IE and Underscores in Domain Names</a>
	</h2>
	<div class="entry-content">
		<p>Ok, a short warning to those who use underscores in their domain names. Underscores you say? Aren&#8217;t they illegal characters in domain names? Why yes they are (but I think they&#8217;re valid in sub-domains&#8230;not sure), but you may find yourself using them in development environments, particularly if you&#8217;re doing a re-design. Think something like <em>http://mysite_v2.local/</em> etc</p>

<p>Now, this works of course and everything is fine and dandy because your using your own hosts file to make it &#8220;legal&#8221;&#8230;except that Internet Explorer has this little quirk where it doesn&#8217;t persist your session (cookie) information. So your app sets some session variables, refresh the page and they&#8217;re gone. Sigh&#8230;</p>

<p>Why would IE even bother to do this? Who knows. But keep this in mind next time your pulling your hair out trying to figure out why session management isn&#8217;t working for you in IE.</p>

<p><strong>Rule:</strong></p>

<p>Don&#8217;t ever use underscores in domain names</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-05-10T09:09:27+10:00" pubdate data-updated="true">May 10<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>, <a class='category' href='/categories/misc/'>Misc</a>


</div>
	
		<div class="comments"><a href="/2010/05/10/ie-and-underscores-in-domain-names//page/6/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/04/22/support-details-tech-support-management/">
		
			Support Details - Tech Support Management</a>
	</h2>
	<div class="entry-content">
		<p>Ever dealt with a client where you wanted to know their operating environment? Thinks like what operating system they are running (and version), which browser type and version, whether they have JavaScript enabled etc? Sounds easy but for some clients this is like being asked to provide a detailed analysis of early 7th century rock formations around Stone Henge&#8230;in Latin. :(</p>

<p>Here&#8217;s a super simple solution that anyone could use :)</p>

<p><a href="http://supportdetails.com/">http://supportdetails.com/</a></p>

<p>Basically you send your client the URL above which they open. The web page will automatically detect their environment, all they have to do is enter your email address in a text box and click a button and in seconds you&#8217;ll receive an email detailing the system they are using. Nice!</p>

<p>If you want to make it even easier you can provide the URL to them with your email already attached:</p>

<p>E.g. http://supportdetails.com/?recipient=developer@mycompany.com</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-04-22T16:52:47+10:00" pubdate data-updated="true">Apr 22<span>nd</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/categories/tools/'>Tools</a>


</div>
	
		<div class="comments"><a href="/2010/04/22/support-details-tech-support-management//page/6/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/03/03/detecting-https-across-railo-and-coldfusion-server/">
		
			Detecting Https Across Railo and ColdFusion Server</a>
	</h2>
	<div class="entry-content">
		<p>Previously I had a way of <a href="http://www.chapter31.com/2007/07/21/detecting-and-redirecting-http-to-https/">detecting whether page requests were being made via ssl</a> but today I came across a scenario where this doesn&#8217;t work. Let me explain&#8230;</p>

<p>Right now we&#8217;re looking at developing across different ColdFusion engines, &#8220;ColdFusion&#8221; of course but also <a href="http://www.getrailo.com/">&#8220;Railo&#8221;</a>. One of the applications we had detected whether a request was being made securely (https) and if it wasn&#8217;t we turned off session management for security reasons. The basic code looked like the following snippet:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">oRequest</span> <span class="o">=</span> <span class="nx">getPageContext</span><span class="p">().</span><span class="nx">getRequest</span><span class="p">();</span>         
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">oRequest</span><span class="p">.</span><span class="nx">isSecure</span><span class="p">())</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">sessionManagement</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">sessionTimeout</span> <span class="o">=</span> <span class="nx">createTimeSpan</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">setClientCookies</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">sessionManagement</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">setClientCookies</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This was working all fine and dandy for ColdFusion Server, but was failing when we went to Railo (at least in the way we configure Railo). The reason was that we proxy page requests on Railo through Apache to Tomcat. This proxy is done over http regardless of the actual client request to the server. I guess the reason for this is that Apache to Tomcat is considered part of your secure (server) network. What was happening was that isSecure() was coming back false, because of this proxy request.</p>

<p><a href="http://www.lynchconsulting.com.au">Mark</a> came up with a cool solution for this. We simply add a custom header in the Apache conf file.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">RequestHeader</span> <span class="nx">set</span> <span class="nx">https</span> <span class="nx">on</span>
</span></code></pre></td></tr></table></div></figure>


<p>All this does is set a value into the header which we can pickup via the CGI scope, i.e. CGI.https</p>

<p>Now this key (https) already exists on ColdFusion server and will be blank for http requests and &#8220;on&#8221; for https requests. This is the reason we set the custom header value to &#8220;on&#8221; in the Railo vhost, so our application code is easily compatible across the two ColdFusion engines.</p>

<p>So now we just have a simple function to detect ssl requests:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cffunction</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;isRequestSecure&quot;</span> <span class="nx">access</span><span class="o">=</span><span class="s2">&quot;public&quot;</span> <span class="nx">output</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="nx">returnType</span><span class="o">=</span><span class="s2">&quot;boolean&quot;</span><span class="o">&gt;</span>
</span><span class='line'>  
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfset</span> <span class="kd">var</span> <span class="nx">secure</span> <span class="o">=</span> <span class="kc">false</span><span class="o">&gt;</span>
</span><span class='line'>      
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfif</span> <span class="nx">cgi</span><span class="p">.</span><span class="nx">https</span> <span class="nx">EQ</span> <span class="s2">&quot;on&quot;</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">cfset</span> <span class="nx">secure</span> <span class="o">=</span> <span class="kc">true</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/cfif&gt;</span>
</span><span class='line'>      
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfreturn</span> <span class="nx">secure</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cffunction&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now we can easily call isRequestSecure() which will be either true or false. Nice :)</p>

<p>Don&#8217;t forget that the CGI scope is kind of &#8220;magic&#8221;, in that we won&#8217;t ever need to param a key in that struct (like CGI.https).</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-03-03T14:14:56+11:00" pubdate data-updated="true">Mar 3<span>rd</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>, <a class='category' href='/categories/railo/'>Railo</a>


</div>
	
		<div class="comments"><a href="/2010/03/03/detecting-https-across-railo-and-coldfusion-server//page/6/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/01/20/cfhttp-issues-using-local-on-max-osx/">
		
			Cfhttp Issues Using &#8220;.local&#8221; on Max OSX</a>
	</h2>
	<div class="entry-content">
		<p>Ran into an interesting problem today doing something quite simple. Basically all I was doing was posting xml data to a URL, but I kept getting a 408 request timeout and I didn&#8217;t know why.</p>

<p>We happen to use the &#8220;.local&#8221; domain name structure for local development. I was posting data from one local site to another e.g.</p>

<p>http://mysite1.local   ->   http://mysite2.local</p>

<p>When I dumped cfhttp on the posting page I got the following error:</p>

<p><a href="/images/uploads/2010/01/cfhttp.png"><img src="/images/uploads/2010/01/cfhttp.png" alt="cfhttp" /></a></p>

<p>Now I hadn&#8217;t come across this error before with cfhttp and nothing I did fixed the issue, I even got that message using a &#8220;GET&#8221; method. It wasn&#8217;t till I tried &#8220;GET&#8221; from a public domain (http://www.google.com, which worked) that I thought to try a local domain which didn&#8217;t use &#8220;.local&#8221;.</p>

<p>Success!</p>

<p><a href="http://www.lynchconsulting.com.au/go/blog">Mark</a> mentioned that it could be a problem with Bonjour (as I&#8217;m on a Mac) which uses .local.</p>

<p>This is kinda timely as we&#8217;re moving away from the &#8220;.local&#8221; convention in favour of &#8220;.cf7&#8221;, &#8220;.cf9&#8221;, &#8220;.railo&#8221; etc as we&#8217;re using multiple cfmx engines for different projects and that provides a way to easily test codebases against different engines easily.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-01-20T10:28:00+11:00" pubdate data-updated="true">Jan 20<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2010/01/20/cfhttp-issues-using-local-on-max-osx//page/6/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/10/30/browserlab-live-on-adobe-com/">
		
			BrowserLab Live on adobe.com</a>
	</h2>
	<div class="entry-content">
		<p>I&#8217;m probably a bit behind the times with this one, but Adobe have added &#8220;BrowserLab&#8221; functionality to &#8221;<em>preview and test your web pages on leading browsers and operating systems - on demand</em>&#8221;.</p>

<p>Seems to work like other paid services, but is free :)</p>

<p><a href="https://browserlab.adobe.com/">https://browserlab.adobe.com/</a></p>

<p>Available browser options (across mac and windows) include:</p>

<ul>
<li>IE 6/7/8</li>
<li>Firefox 2/3</li>
<li>Safari 3/4</li>
</ul>


<p><a href="/images/uploads/2009/10/Screen-shot-2009-10-30-at-11.58.48-AM.png"><img src="/images/uploads/2009/10/Screen-shot-2009-10-30-at-11.58.48-AM-300x166.png" alt="michaelsharman.com" /></a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-10-30T12:02:27+11:00" pubdate data-updated="true">Oct 30<span>th</span>, 2009</time></div>
	<div class="tags">


	<a class='category' href='/categories/misc/'>Misc</a>, <a class='category' href='/categories/tools/'>Tools</a>


</div>
	
		<div class="comments"><a href="/2009/10/30/browserlab-live-on-adobe-com//page/6/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/10/28/extracting-url-variables-using-javascript/">
		
			Extracting URL Variables Using JavaScript</a>
	</h2>
	<div class="entry-content">
		<p>Server side languages are cool in that they give you a nice associative array to access URL variables. ColdFusion has the URL scope, PHP has $_GET[] etc, but how do you get these values easily with JavaScript?</p>

<p>I <a href="http://techfeed.net/blog/index.cfm/2007/2/6/JavaScript-URL-variables">came across a post</a> over at <a href="http://techfeed.net/blog/">Jake Munson&#8217;s blog</a> which had just what I needed. Actually although Jakes solution was perfectly valid, I preferred a slight modification from one of the commenters which wrapped the entire URL string into an associative array so you can access the entire URL scope, as well as extracting a specific value via a key. Thanks Chad (and Jake).</p>

<p>So if you had a URL like http://www.mysite.com/?s=the first param&email;=someone@me.com you could get the following:</p>

<p><img src="/images/uploads/2009/10/jsdump.gif" alt="jsdump" /></p>

<p>Here is the javascript function (note that we wrap all functions into objects to avoid any naming collisions, hence the &#8220;Learnosity.&#8221; convention):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">Learnosity</span><span class="p">.</span><span class="nx">getURL</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="nb">document</span><span class="p">.</span><span class="nx">getVars</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">urlHalves</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="nx">urlHalves</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="kd">var</span> <span class="nx">urlVars</span> <span class="o">=</span> <span class="nx">urlHalves</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;=</span><span class="p">(</span><span class="nx">urlVars</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="k">if</span><span class="p">(</span><span class="nx">urlVars</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
</span><span class='line'>          <span class="p">{</span>
</span><span class='line'>              <span class="kd">var</span> <span class="nx">urlVarPair</span> <span class="o">=</span> <span class="nx">urlVars</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">);</span>
</span><span class='line'>              <span class="nb">document</span><span class="p">.</span><span class="nx">getVars</span><span class="p">[</span><span class="nx">urlVarPair</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nx">urlVarPair</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getVars</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>To access the &#8220;email&#8221; key in the URL, simply call</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">Learnosity</span><span class="p">.</span><span class="nx">getURL</span><span class="p">().</span><span class="nx">email</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Another modification which I added was to unescape any strings, so removing things like %20 (a space character) that might be in the URL value. The following will automatically unescape all values, if this isn&#8217;t what you want you can pass &#8220;false&#8221; to the function (i.e. Learnosity.getURL(false);)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">Learnosity</span><span class="p">.</span><span class="nx">getURL</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">unesc</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="nx">clean</span> <span class="o">=</span> <span class="p">(</span><span class="nx">unesc</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span><span class="o">?</span><span class="kc">true</span><span class="o">:</span><span class="nx">unesc</span><span class="p">;</span>
</span><span class='line'>  <span class="nb">document</span><span class="p">.</span><span class="nx">getVars</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">urlHalves</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="nx">urlHalves</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="kd">var</span> <span class="nx">urlVars</span> <span class="o">=</span> <span class="nx">urlHalves</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;=</span><span class="p">(</span><span class="nx">urlVars</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="k">if</span><span class="p">(</span><span class="nx">urlVars</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
</span><span class='line'>          <span class="p">{</span>
</span><span class='line'>              <span class="kd">var</span> <span class="nx">urlVarPair</span> <span class="o">=</span> <span class="nx">urlVars</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">);</span>
</span><span class='line'>              <span class="nb">document</span><span class="p">.</span><span class="nx">getVars</span><span class="p">[</span><span class="nx">urlVarPair</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">clean</span><span class="p">)</span><span class="o">?</span><span class="nx">unescape</span><span class="p">(</span><span class="nx">urlVarPair</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">:</span><span class="nx">urlVarPair</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getVars</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-10-28T11:40:51+11:00" pubdate data-updated="true">Oct 28<span>th</span>, 2009</time></div>
	<div class="tags">


	<a class='category' href='/categories/javascript/'>Javascript</a>


</div>
	
		<div class="comments"><a href="/2009/10/28/extracting-url-variables-using-javascript//page/6/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/08/15/firefox-changing-default-download-location/">
		
			Firefox Changing Default Download Location?</a>
	</h2>
	<div class="entry-content">
		<p>Hmm it seems firefox (Windows) 3.5.2 has decided to change the default location for downloading files. Used to be the desktop, but if you suddenly discover that you can&#8217;t find things you&#8217;ve download you might want to head to Tools->Options in firefox.</p>

<p>If you see &#8220;Downloads&#8221; as the chosen folder (as below), you can change it back to the desktop.</p>

<p><img src="/images/uploads/2009/08/ffdownload.jpg" alt="ffdownload" /></p>

<p>Safari (at least on the Mac) also annoyingly places files there.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-08-15T18:04:44+10:00" pubdate data-updated="true">Aug 15<span>th</span>, 2009</time></div>
	<div class="tags">


	<a class='category' href='/categories/misc/'>Misc</a>


</div>
	
		<div class="comments"><a href="/2009/08/15/firefox-changing-default-download-location//page/6/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2009/08/15/new-location-for-farcry-subversion-repositories/">
		
			New Location for FarCry Subversion Repositories</a>
	</h2>
	<div class="entry-content">
		<p>The folks at <a href="http://www.daemon.com.au">Daemon</a> have completed some migrations with their subversion repositories which directly effects <a href="http://www.farcrycms.org">FarCry</a>. Notes from the <a href="http://groups.google.com/group/farcry-dev/browse_thread/thread/57e68f1dccf5861f">farcry-dev groups</a>:</p>

<p>All URL&#8217;s should be replaced with this repo location:
<a href="https://modius.svn.cvsdude.com/farcry">https://modius.svn.cvsdude.com/farcry</a></p>

<p>All project folders are relative to this root.  For example, the p520
branch for FarCry 5.2.x is available here:
<a href="https://modius.svn.cvsdude.com/farcry/core/branches/p520/">https://modius.svn.cvsdude.com/farcry/core/branches/p520/</a></p>

<p>You can re-checkout or use the &#8220;relocate&#8221; command if your SVN client
supports.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-08-15T17:21:01+10:00" pubdate data-updated="true">Aug 15<span>th</span>, 2009</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>, <a class='category' href='/categories/farcry/'>Farcry</a>


</div>
	
		<div class="comments"><a href="/2009/08/15/new-location-for-farcry-subversion-repositories//page/6/index.html#disqus_thread">Comments</a></div>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/page/5/" class="prev">Prev</a>
    
    
        <a href="/page/7/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Michael Sharman

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'chapter31';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-306772-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
