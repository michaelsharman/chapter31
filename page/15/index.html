
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>chapter31 &raquo;</title>
	<meta name="author" content="Michael Sharman">

	
	<meta name="description" content="I&#8217;ve been reading about Mylyn for a little while now but haven&#8217;t had the opportunity to install it. After reading this post today from &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="chapter31 &raquo;" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">chapter31 &raquo;</a></h1>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="https://github.com/michaelsharman/">projects</a></li>
  <li><a href="/shell-commands">shell</a></li>
  <li><a href="http://tools.chapter31.com/">tools</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:chapter31.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/michaelsharman" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/michaelsharman" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:chapter31.com">
	</form>
</nav>

</header>
	
		

	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/12/18/mylyn-plugin-for-aptana/">
		
			Mylyn Plugin for Aptana</a>
	</h2>
	<div class="entry-content">
		<p>I&#8217;ve been reading about <a href="http://www.eclipse.org/mylyn/">Mylyn</a> for a little while now but haven&#8217;t had the opportunity to install it. After reading <a href="http://adamflater.blogspot.com/2007/12/review-of-mylyn.html">this post</a> today from Adam Flater I thought it was about time I gave it a go.</p>

<p>For those that don&#8217;t know Mylyn:</p>

<blockquote><p>Mylyn is the Task-Focused UI for Eclipse that reduces information overload and makes multi-tasking easy. It does this by making tasks a first class part of Eclipse, and integrating rich and offline editing for repositories such as Bugzilla, Trac, and JIRA</p></blockquote>

<p>Currently the <a href="http://www.eclipse.org/mylyn/downloads/">downloads</a> on the site only seem to be for Eclipse 3.3/3.4 but as I&#8217;m using <a href="http://www.aptana.com/">Aptana</a> (which bundles with Eclipse 3.2) I needed to use an earlier version of Mylyn.</p>

<p>I ended up finding the following URL and doing a &#8216;Software Update&#8217; (help -> Software Updates -> Find and install -> Search for new features to install) in Eclipse:</p>

<p>http://download.eclipse.org/tools/mylyn/update/e3.2</p>

<p>There are 2 .jar which I needed to already have to successfully install the full Mylyn package (according to my Aptana), but as I don&#8217;t develop in Java I could remove them from the installation by unchecking the checkboxes on the &#8220;Software Updates&#8221; page.</p>

<ul>
<li><p>org.eclipse.jdt</p></li>
<li><p>org.eclipse.pde.ui</p></li>
</ul>


<p>If you don&#8217;t uncheck these then you won&#8217;t be able to install.</p>

<p>After that just restart Aptana and you&#8217;re done :)</p>

<p>For some reason the perspective is called &#8220;Planning&#8221; and not &#8220;Mylyn&#8221;, in case you can&#8217;t find it!</p>

<p>There are some cool tutorials floating around for Mylyn including <a href="http://www.ibm.com/developerworks/java/library/j-mylyn1/?ca=dgr-eclipse-1">this one</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-12-18T15:27:08+11:00" pubdate data-updated="true">Dec 18<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/misc/'>Misc</a>


</div>
	
		<div class="comments"><a href="/2007/12/18/mylyn-plugin-for-aptana//page/15/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/12/08/enforcing-your-service-as-an-api/">
		
			Enforcing Your Service as an API</a>
	</h2>
	<div class="entry-content">
		<p>A lot ColdFusion developers are moving (or already there) towards a more OOP style of development. They have an understanding of and use several techniques and design patterns when building applications, particularly when it relates to things such as MVC and n-tiered development.</p>

<p>A small part of this is grouping related files withing separate directories in you application. Take &#8216;User&#8217; related files as an example where you&#8217;ll probably need some kind of a business object (User.cfc), something to store business/application logic (service or manager) and typically some files to handle database access.</p>

<p>With that in mind most will recognise the following CFC types (as they pertain at least to the ColdFusion community):</p>

<ul>
<li><p>Bean</p></li>
<li><p>Service (or manager)</p></li>
<li><p>Gateway</p></li>
<li><p>DAO</p></li>
</ul>


<p>This is not to get into whether you should use 5:1 components for every different &#8216;thing&#8217; in your application (the 5th might be a controller), or whether you should have a &#8216;Gateway&#8217; AND a &#8216;DAO&#8217; for data access. Instead I&#8217;m talking about how you might layout your files and control access to the methods contained within them.</p>

<p>A typical structure people use is the reverse domain naming (which can prevent naming conflicts with other similarly named files), so for me I might have the following:</p>

<p>/com/chapter31/myApp/user</p>

<p>The &#8216;user&#8217; directory could hold the following cfc&#8217;s:</p>

<ul>
<li><p>User.cfc</p></li>
<li><p>UserService.cfc</p></li>
<li><p>UserGateway.cfc</p></li>
<li><p>UserDAO.cfc</p></li>
</ul>


<p>How do I manage access to methods contained within the Gateway or DAO? Often you may not want developers being able to access the getUsers() method inside UserGateway.cfc directly. This might be for different reasons, typically there may be some business logic required or a bean which is to be returned instead of a query etc. Either way, developers shouldn&#8217;t access these data access files directly.</p>

<p>A nice easy way to get around this is to make all &#8216;public&#8217; methods inside the components you want to restrict access to, &#8216;package&#8217;, which means that they are only accessible from files which reside within the same directory (/user).</p>

<p>An example method within UserGateway.cfc might look like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cffunction</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;getUsers&quot;</span> <span class="nx">output</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="nx">access</span><span class="o">=</span><span class="s2">&quot;package&quot;</span> <span class="nx">returntype</span><span class="o">=</span><span class="s2">&quot;query&quot;</span><span class="o">&gt;</span>
</span><span class='line'>  
</span><span class='line'>  <span class="c1">//query the users table in your database below</span>
</span><span class='line'>  
</span><span class='line'><span class="o">&lt;</span><span class="err">/cffunction&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you tried to access this method from outside the &#8216;user&#8217; directory (say index.cfm within the webroot) you will get an error saying something like</p>

<p><em>&#8220;The package method &#8216;getUsers&#8217; in component /user/UserGateway.cfc cannot be accessed from /index.cfm.&#8221;</em></p>

<p>This is because index.cfm does not reside within the &#8216;user&#8217; directory and because the method&#8217;s access modifier is set to &#8216;package&#8217;, access is restricted.</p>

<p>So how do we now get access to this method?</p>

<p>A common approach is to have your Service act as an API to the other cfc&#8217;s within the &#8216;user&#8217; directory by setting the access modifier to &#8216;public&#8217; inside your UserService.cfc. Now whenever you need to call Gateway or DAO methods, you need to go through UserService.cfc which will hold your business logic and application rules etc.</p>

<p>This is a nice way to store related files and control access to them to ensure your application rules are kept intact.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-12-08T17:36:35+11:00" pubdate data-updated="true">Dec 8<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/12/08/enforcing-your-service-as-an-api//page/15/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/12/08/search-and-replace-using-reg-exp/">
		
			Search and Replace Using Reg Exp</a>
	</h2>
	<div class="entry-content">
		<p>The other day <a href="http://www.dopefly.com/">Nathan Strutz</a> wrote a great <a href="http://www.dopefly.com/techblog/entry.cfm?entry=222">post</a> on finding and replacing text in your IDE (in my case I&#8217;m using Aptana/cfeclipse) using regular expressions.</p>

<p>This is more a reminder to me so that I try to use it (with the idea that it&#8217;ll become 2nd nature!), but I also had a play to see how I could use it in day to day coding. I&#8217;m sure others have more interesting uses, but here is where I can use it immediately:</p>

<p><strong>Setting variables (using cfml rather than cfscript)</strong></p>

<p>Often you have the need to set a large number of variables, I would actually use a <cfscript> block for this, but if I wanted to use <cfset> with the end result being something like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfset</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">cfset</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">cfset</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>I&#8217;ll need a reg exp, text to replace my matched content and initial code to search.</p>

<p>The reg exp</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">^</span><span class="p">(.</span><span class="o">+</span><span class="p">)</span> <span class="p">(.</span><span class="o">+</span><span class="p">)</span><span class="nx">$</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note that I&#8217;m using 2 &#8216;groups&#8217; separated by a space, this will be important when looking at the actual text to search on.</p>

<p>The &#8216;replace&#8217; text to use</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfset</span> <span class="nx">$1</span> <span class="o">=</span> <span class="nx">$2</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The initial source code which I&#8217;ll search on</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">count</span> <span class="mi">0</span>
</span><span class='line'><span class="nx">i</span> <span class="mi">1</span>
</span><span class='line'><span class="nx">j</span> <span class="nx">i</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note that as  have 2 &#8216;groups&#8217; separated by a space, the end result would be</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfset</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">cfset</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">cfset</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Nice :) You can use (I believe) as many &#8216;groups&#8217; as you want, here is an example which uses 3 for &lt;cfparam&gt;</p>

<p>The reg exp</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">^</span><span class="p">(.</span><span class="o">+</span><span class="p">)</span> <span class="p">(.</span><span class="o">+</span><span class="p">)</span> <span class="p">(.</span><span class="o">+</span><span class="p">)</span><span class="nx">$</span>
</span></code></pre></td></tr></table></div></figure>


<p>The &#8216;replace&#8217; text to use</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfparam</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;$1&quot;</span> <span class="k">default</span><span class="o">=</span><span class="nx">$2</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;$3&quot;</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The initial source code</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">form</span><span class="p">.</span><span class="nx">firstName</span> <span class="s2">&quot;&quot;</span> <span class="nx">string</span>
</span><span class='line'><span class="nx">form</span><span class="p">.</span><span class="nx">lastName</span> <span class="s2">&quot;&quot;</span> <span class="nx">string</span>
</span><span class='line'><span class="nx">form</span><span class="p">.</span><span class="nx">email</span> <span class="s2">&quot;&quot;</span> <span class="nx">email</span>
</span><span class='line'><span class="nx">form</span><span class="p">.</span><span class="nx">postalcode</span> <span class="s2">&quot;90210&quot;</span> <span class="nx">numeric</span>
</span></code></pre></td></tr></table></div></figure>


<p>The end result</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfparam</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;form.firstName&quot;</span> <span class="k">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;string&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">cfparam</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;form.lastName&quot;</span> <span class="k">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;string&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">cfparam</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;form.email&quot;</span> <span class="k">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">cfparam</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;form.postalcode&quot;</span> <span class="k">default</span><span class="o">=</span><span class="s2">&quot;90210&quot;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>As I said, I&#8217;m sure there are much better ways to achieve this as I suck at regular expressions. Anyone have any more uses?</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-12-08T16:26:11+11:00" pubdate data-updated="true">Dec 8<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/12/08/search-and-replace-using-reg-exp//page/15/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/11/14/flex-not-working-on-ubuntu-using-the-gnash-player/">
		
			Flex Not Working on Ubuntu Using the Gnash Player</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://packages.ubuntu.com/feisty/utils/gnash">Gnash</a> is a free Flash movie player for Ubuntu which works as a standalone player or as a plugin for Firefox and Konqueror.</p>

<p>This is the default (I believe) player installed on Ubuntu 7.10 (the Adobe player isn&#8217;t there by default).</p>

<p>I recently tried to load a Flex app in this player and failed, the reason is that Gnash is in alpha state and supports Flash version 7 (and some AS classes for 8.5) only.</p>

<p>Of course you need Flash player 9 to run Flex 2+, so you&#8217;ll have to use Adobe&#8217;s Flash player for now which thankfully works fine :)</p>

<p>To install the Flash player from the terminal:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="nx">install</span> <span class="nx">flashplugin</span><span class="o">-</span><span class="nx">nonfree</span>
</span></code></pre></td></tr></table></div></figure>


<p>Or to try Gnash:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">sudo</span> <span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="nx">install</span> <span class="nx">mozilla</span><span class="o">-</span><span class="nx">plugin</span><span class="o">-</span><span class="nx">gnash</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will be another interesting project to keep an eye on.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-11-14T11:38:27+11:00" pubdate data-updated="true">Nov 14<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/flex/'>Flex</a>, <a class='category' href='/categories/ubuntu/'>Ubuntu</a>


</div>
	
		<div class="comments"><a href="/2007/11/14/flex-not-working-on-ubuntu-using-the-gnash-player//page/15/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/11/13/using-google-mail-as-your-local-smtp-server/">
		
			Using Google Mail as Your Local SMTP Server</a>
	</h2>
	<div class="entry-content">
		<p>As a server-side developer you are often sending emails from your web application, whether those emails be for debugging/exception handling or actual application functionality (such as a contact form etc).</p>

<p>Although some developers decide to turn off mail debugging locally (and instead view the errors inline), you pretty much always have the need to send emails from your development environment.</p>

<p>In the past I have either connected to a staging mail server or used a free SMTP server (installed locally on my workstation) like <a href="http://www.mailenable.com/">MailEnable</a>. Well today <a href="http://www.lynchconsulting.com.au/blog/">Marko Tomic</a> let me in on something which is probably already well known! You can setup <a href="http://www.gmail.com/">GMail</a> as an SMTP server in ColdFusion Administrator :)</p>

<p>What this means is you now don&#8217;t have to bother installing your own SMTP server or getting mail details from your systems administrator&#8230;you can just use your very own gmail account! Nice.</p>

<p>Note that I did also google this a bit and found a couple of posts including <a href="http://groups.google.com/group/mach-ii-for-coldfusion/browse_thread/thread/608cdead2943930d">this one</a> suggesting you use TLS (via the Administrator or cfmail attributes), but I needed to use SSL instead. I had no success with TLS.</p>

<p>Also reading <a href="http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=Tags_m-o_01.html">the docs</a> I&#8217;m not sure if this will work pre-CF8, as SSL and TLS were added as attributes in CF8.</p>

<p>Below are some examples of setting this up either in Administrator or in code, note the port number is <strong>not 25</strong> as is the default, instead you must use port 465:</p>

<p><img src="/images/uploads/2007/11/mail.png" alt="ColdFusion Administrator - mail" /></p>

<p>And in CFML:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfmail</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;me@wherever.com&quot;</span> <span class="nx">subject</span><span class="o">=</span><span class="s2">&quot;Read me&quot;</span> <span class="nx">from</span><span class="o">=</span><span class="s2">&quot;you@wherever.com&quot;</span> <span class="nx">server</span><span class="o">=</span><span class="s2">&quot;smtp.gmail.com&quot;</span> <span class="nx">useSSL</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="nx">username</span><span class="o">=</span><span class="s2">&quot;gmailUsername&quot;</span> <span class="nx">password</span><span class="o">=</span><span class="s2">&quot;gmailPassword&quot;</span> <span class="nx">port</span><span class="o">=</span><span class="s2">&quot;465&quot;</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="nx">This</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">test</span> <span class="nx">email</span><span class="o">!</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cfmail&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The nice thing about doing this in ColdFusion administrator (apart from not having to specify a cfmail server and username/password etc in your code) is that you can verify your connection to the SMTP server.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-11-13T15:27:59+11:00" pubdate data-updated="true">Nov 13<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/11/13/using-google-mail-as-your-local-smtp-server//page/15/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/11/02/making-your-web-applications-platform-independant/">
		
			Making Your Web Applications Platform Independant</a>
	</h2>
	<div class="entry-content">
		<p>I was looking for some information the other day about line separators across Windows/MAC/Linux etc when I stumbled upon 3 great articles from <a href="http://weblogs.macromedia.com/cantrell/">Christian Cantrell</a>.</p>

<p>Although the articles are quite old they were very informative for me so I thought I&#8217;d share them in case others didn&#8217;t know this already.</p>

<p><a href="http://weblogs.macromedia.com/cantrell/archives/2003/03/making_your_col.cfm">Making Your ColdFusion Applications More Platform Independent (Part I)</a>
Basically about case sensitive filenames which is very important on *nix, but also included the following which I&#8217;ve never heard and to be honest would like to test:</p>

<blockquote><p>Additionally, make sure you use all lowercase when naming your components. ColdFusion MX will automatically lower-case your component names, which you would never notice on Windows, however on Unix, it will become apparent very quickly when you start getting errors that your components do not exist.</p></blockquote>

<p><a href="http://weblogs.macromedia.com/cantrell/archives/2003/03/making_your_col_1.cfm">Making Your ColdFusion Applications More Platform Independent (Part II)</a>
Shows an automatic way (via Java) to get the current servers file path separator (either a &#8216;/&#8217; or &#8216;&#39;), OS dependant.</p>

<p><a href="http://weblogs.macromedia.com/cantrell/archives/2005/07/making_your_col_2.cfm">Making Your ColdFusion Applications More Platform Independent (Part III)</a>
I&#8217;ve been annoyed many times with the whole chr(10)chr(13) on Windows vs chr(10) on a Mac etc, another automated way to get the server OS &#8216;line separator&#8217; via Java.</p>

<p>Here are the line and file separators as functions which I&#8217;ve also added to my <a href="http://www.chapter31.com/utilscfc/">Utils.cfc</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cffunction</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;getFileSeparator&quot;</span> <span class="nx">access</span><span class="o">=</span><span class="s2">&quot;public&quot;</span> <span class="nx">output</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="nx">returntype</span><span class="o">=</span><span class="s2">&quot;string&quot;</span> <span class="nx">hint</span><span class="o">=</span><span class="s2">&quot;Returns the system file path separator&quot;</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfscript</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">return</span> <span class="nx">createObject</span><span class="p">(</span><span class="s2">&quot;java&quot;</span><span class="p">,</span> <span class="s2">&quot;java.io.File&quot;</span><span class="p">).</span><span class="nx">separator</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/cfscript&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cffunction&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">cffunction</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;getLineSeparator&quot;</span> <span class="nx">access</span><span class="o">=</span><span class="s2">&quot;public&quot;</span> <span class="nx">output</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="nx">returntype</span><span class="o">=</span><span class="s2">&quot;string&quot;</span> <span class="nx">hint</span><span class="o">=</span><span class="s2">&quot;Returns the system line separator&quot;</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">cfscript</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">return</span> <span class="nx">createObject</span><span class="p">(</span><span class="s2">&quot;java&quot;</span><span class="p">,</span> <span class="s2">&quot;java.lang.System&quot;</span><span class="p">).</span><span class="nx">getProperty</span><span class="p">(</span><span class="s2">&quot;line.separator&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/cfscript&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="err">/cffunction&gt;</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-11-02T16:27:46+11:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/11/02/making-your-web-applications-platform-independant//page/15/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/11/01/cfml-reference-docs-for-the-ipod/">
		
			CFML Reference Docs for the iPod</a>
	</h2>
	<div class="entry-content">
		<p>That&#8217;s right, the ColdFusion 8 quick docs for Apple&#8217;s iPod!</p>

<p>I found this one a while ago and quickly tried it out and it&#8217;s really cool :)</p>

<p>I get public transport to and from work everyday so I find it easy and convenient to read up on the new functions and tags for CF8. Beats just standing there right?</p>

<p>Read more and give it a try <a href="http://blogs.adobe.com/flexdoc/2007/08/cfml_reference_docs_for_the_ip_1.html">here</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-11-01T13:30:50+11:00" pubdate data-updated="true">Nov 1<span>st</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/11/01/cfml-reference-docs-for-the-ipod//page/15/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/11/01/coldfusion-8-can-now-use-cacheaftercachewithin-when-using-cfqueryparams/">
		
			ColdFusion 8 Can Now Use cacheAfter/cacheWithin When Using Cfqueryparam&#8217;s</a>
	</h2>
	<div class="entry-content">
		<p>I just noticed this in the <a href="http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=Tags_p-q_18.html">Adobe docs</a> for cfqueryparam in ColdFusion 8:</p>

<blockquote><p>Revised 8/21/2007: Removed limitation on using the cfquery cachedAfter or cachedWithin attributes with cfqueryparam.This limit no longer applies.</p></blockquote>

<p>This is great news because before (MX7 and below):</p>

<blockquote><p>You cannot use the cfquery cachedAfter or cachedWithin attributes with cfqueryparam.</p></blockquote>

<p>I know many people didn&#8217;t like this limitation as it meant you needed to go to extra lengths to perform query caching (such as Application scope etc).</p>

<p>This is another reason why CF8 is so good :)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-11-01T09:19:48+11:00" pubdate data-updated="true">Nov 1<span>st</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/11/01/coldfusion-8-can-now-use-cacheaftercachewithin-when-using-cfqueryparams//page/15/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/10/18/styling-issues-when-generating-an-xls-from-html/">
		
			Styling Issues When Generating an Xls From HTML</a>
	</h2>
	<div class="entry-content">
		<p>A few notes to self on generating .xls files from HTML tables, particularly with CSS.</p>

<p>It appears that excel only has a particular &#8216;range&#8217; of hex numbers you can use (at least for background colours). I was trying to use #eeeeee; for a while (which is obviously fine for HTML and for creating a PDF), but I couldn&#8217;t use that as a value in excel as the colours just weren&#8217;t displaying. Perhaps the colour was too close to white?</p>

<p>In any event, once I chose a darker colour (#bbbbbb) the background colour appeared fine!</p>

<p>Another issue was that HTML allows you to specifiy multiple CSS classes such as:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">table</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">thead</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
</span><span class='line'>          <span class="o">&lt;</span><span class="nx">th</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;sortOpt1 highlight&quot;</span><span class="o">&gt;</span><span class="nx">STUDIO</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This wasn&#8217;t working for me, so for that <th> I added an inline style:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">table</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">thead</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
</span><span class='line'>          <span class="o">&lt;</span><span class="nx">th</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;sortOpt1&quot;</span> <span class="nx">style</span><span class="o">=</span><span class="s2">&quot;background-color:##bbbbbb;&quot;</span><span class="o">&gt;</span><span class="nx">STUDIO</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>If anyone is interested in the code to actually launch the open/save dialogue window, here it is:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">cfheader</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;Content-Disposition&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;attachment; filename=studioDailyReport_#dateFormat(now(), &#39;yyyymmdd&#39;)#.xls&quot;</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">cfcontent</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;application/msexcel&quot;</span><span class="o">&gt;</span>
</span><span class='line'><span class="c">&lt;!--</span><span class="o">-</span> <span class="nx">output</span> <span class="nx">HTML</span> <span class="nx">data</span> <span class="nx">here</span> <span class="o">---&gt;</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-10-18T11:31:16+10:00" pubdate data-updated="true">Oct 18<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/10/18/styling-issues-when-generating-an-xls-from-html//page/15/index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2007/10/12/coldfusion-round-docs-inaccurate/">
		
			ColdFusion &#8216;Round()&#8217; Docs Inaccurate?</a>
	</h2>
	<div class="entry-content">
		<p>Today I needed a function which would return me a whole number, rounding either up or down depending on whether the value passed to the function was less than or greater than .5</p>

<p>Looking at <a href="http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=functions_m-r_40.html">round() ColdFusion 8 docs</a> they say:</p>

<blockquote><p>Rounds a number to the closest integer that is larger than the input parameter.</p></blockquote>

<p>Hmm, that doesn&#8217;t sound right.</p>

<p>In actual fact the round() function does exactly what it should, rounds numbers down OR up.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">Round</span><span class="p">(</span><span class="mf">7.49</span><span class="p">)</span> <span class="o">=</span> <span class="mi">7</span>
</span><span class='line'><span class="nx">Round</span><span class="p">(</span><span class="mf">7.5</span><span class="p">)</span> <span class="o">=</span> <span class="mi">8</span>
</span><span class='line'><span class="nx">Round</span><span class="p">(</span><span class="mf">7.65</span><span class="p">)</span> <span class="o">=</span> <span class="mi">8</span>
</span><span class='line'><span class="nx">Round</span><span class="p">(</span><span class="o">-</span><span class="mf">7.49</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">7</span>
</span><span class='line'><span class="nx">Round</span><span class="p">(</span><span class="o">-</span><span class="mf">7.5</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">7</span>
</span><span class='line'><span class="nx">Round</span><span class="p">(</span><span class="o">-</span><span class="mf">7.65</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">8</span>
</span></code></pre></td></tr></table></div></figure>


<p>Also funny to note that although the docs site is much better for ColdFusion 8, many of the examples using ColdFusion variables are not parsed. So you get examples like #Round(7.49)#.</p>

<p>Hopefully Adobe will rectify this soon.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2007-10-12T15:26:01+10:00" pubdate data-updated="true">Oct 12<span>th</span>, 2007</time></div>
	<div class="tags">


	<a class='category' href='/categories/coldfusion/'>ColdFusion</a>


</div>
	
		<div class="comments"><a href="/2007/10/12/coldfusion-round-docs-inaccurate//page/15/index.html#disqus_thread">Comments</a></div>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/page/14/" class="prev">Prev</a>
    
    
        <a href="/page/16/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Michael Sharman

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'chapter31';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-306772-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
